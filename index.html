<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¹¿å·åœ°é“å¤§å¯Œç¿ï¼š2026è”ç½‘ä¿®å¤ç‰ˆ</title>
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <style>
        :root { --bg-color: #121212; --panel-bg: rgba(28, 28, 28, 0.98); --accent: #009b4c; --highlight: #ffcc00; --danger: #ff4444; }
        body { margin: 0; background: var(--bg-color); font-family: 'Microsoft YaHei', sans-serif; color: white; overflow: hidden; touch-action: none; user-select: none; }
        .screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; background: var(--bg-color); z-index: 100; transition: opacity 0.4s; }
        .hidden { opacity: 0; pointer-events: none; z-index: -1; }
        h1, h2 { color: var(--highlight); text-align: center; text-shadow: 0 2px 5px black; }
        .btn { background: linear-gradient(135deg, #009b4c, #007a3b); color: white; border: none; padding: 12px 32px; font-size: 18px; cursor: pointer; border-radius: 30px; margin: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.4); transition: transform 0.1s; }
        .btn:active { transform: scale(0.95); }
        .btn:disabled { background: #555; filter: grayscale(1); cursor: not-allowed; }
        .grid-select { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; max-width: 600px; padding: 10px; width: 90%; }
        .select-card { background: #333; padding: 15px; border-radius: 12px; border: 2px solid #444; text-align: center; cursor: pointer; transition: 0.2s; position: relative; }
        .select-card.selected { border-color: var(--highlight); background: #444; box-shadow: 0 0 15px rgba(255, 204, 0, 0.2); }
        .select-card.taken { opacity: 0.5; pointer-events: none; filter: grayscale(1); }
        .tag { font-size: 10px; background: #000; padding: 2px 5px; border-radius: 3px; position: absolute; top: 5px; right: 5px; }
        #wheel-wrapper { position: relative; width: 280px; height: 280px; margin: 30px; }
        #wheel { width: 100%; height: 100%; border-radius: 50%; border: 6px solid #eee; position: relative; overflow: hidden; background: #222; transition: transform 3s cubic-bezier(0.1, 0.7, 0.1, 1); }
        .wheel-sec { position: absolute; width: 50%; height: 50%; transform-origin: 100% 100%; left: 0; top: 0; border: 1px solid rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; }
        #wheel-pointer { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 12px solid transparent; border-right: 12px solid transparent; border-top: 25px solid var(--highlight); z-index: 10; filter: drop-shadow(0 2px 2px black); }
        #game-container { width: 100vw; height: 100vh; background: #1a1a1a; cursor: grab; overflow: scroll; scroll-behavior: smooth; -webkit-overflow-scrolling: touch; }
        #game-container::-webkit-scrollbar { display: none; }
        .metro-line { fill: none; stroke-width: 8; stroke-linecap: round; stroke-linejoin: round; opacity: 0.8; }
        .station-group { cursor: pointer; transition: opacity 0.3s; }
        .station-circle { fill: #fff; stroke: #333; stroke-width: 2; r: 5; transition: all 0.3s; }
        .station-circle.transfer { r: 8; stroke-width: 3; }
        .station-label { font-size: 11px; fill: #ddd; font-weight: bold; text-shadow: 1px 1px 2px #000; pointer-events: none; user-select: none; }
        .station-group.target-highlight .station-circle { fill: var(--highlight); r: 14; stroke: white; stroke-width: 3; filter: drop-shadow(0 0 15px var(--highlight)); animation: pulse 0.6s infinite alternate; }
        @keyframes pulse { from { r: 12; opacity: 0.8; } to { r: 15; opacity: 1; } }
        .player-token { r: 10; stroke: #fff; stroke-width: 2; transition: cx 0.25s linear, cy 0.25s linear; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.8)); pointer-events: none; z-index: 50; }
        #ui-panel { position: fixed; bottom: 0; left: 0; width: 100%; background: var(--panel-bg); padding: 10px 15px 20px 15px; border-top: 1px solid #444; display: flex; flex-direction: column; gap: 10px; z-index: 90; backdrop-filter: blur(10px); box-shadow: 0 -5px 20px rgba(0,0,0,0.5); box-sizing: border-box; }
        #players-row { display: flex; gap: 10px; width: 100%; overflow-x: auto; padding: 5px 2px; scrollbar-width: none; -webkit-overflow-scrolling: touch; }
        #players-row::-webkit-scrollbar { display: none; }
        .p-card { flex: 0 0 auto; width: 90px; background: #2a2a2a; border: 2px solid #444; border-radius: 10px; padding: 8px; display: flex; flex-direction: column; justify-content: space-between; transition: all 0.3s; opacity: 0.7; transform-origin: center; }
        .p-card.active-turn { border-color: var(--highlight); background: #3a3a3a; transform: scale(1.05); opacity: 1; box-shadow: 0 5px 15px rgba(255, 204, 0, 0.2); z-index: 2; }
        .p-card.bankrupt { filter: grayscale(1); opacity: 0.3; border-color: #555; }
        .p-name { font-size: 13px; font-weight: bold; margin-bottom: 4px; display: flex; justify-content: space-between; }
        .p-money { font-size: 14px; color: var(--highlight); font-family: monospace; font-weight: bold; }
        .p-station { font-size: 10px; color: #aaa; margin-top: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .p-status { font-size: 10px; color: var(--danger); font-weight: bold; height: 14px; }
        #controls-row { display: flex; align-items: center; justify-content: space-between; }
        #ui-tip { flex: 1; color: var(--highlight); font-size: 14px; font-weight: bold; text-align: left; padding-left: 5px; }
        #dice-group { display: flex; align-items: center; gap: 15px; }
        #dice-box { width: 50px; height: 50px; background: white; color: black; border-radius: 10px; font-size: 28px; font-weight: bold; display: flex; align-items: center; justify-content: center; box-shadow: inset 0 0 5px rgba(0,0,0,0.2); }
        #roll-btn { margin: 0; padding: 10px 24px; font-size: 16px; }
        #modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 199; display: none; }
        #modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #2d2d2d; color: white; padding: 25px; width: 85%; max-width: 360px; border-radius: 16px; text-align: center; z-index: 200; display: none; border: 1px solid #555; box-shadow: 0 10px 40px rgba(0,0,0,0.8); }
        #net-panel input { box-sizing: border-box; }
        .net-minimized { width: 40px !important; height: 40px !important; overflow: hidden; border-radius: 50% !important; padding: 0 !important; }
        .net-minimized > div { display: none; }
        .net-minimized::after { content: 'ğŸ“¡'; display: flex; width: 100%; height: 100%; align-items: center; justify-content: center; font-size: 20px; }
    </style>
</head>
<body>

<div id="screen-setup" class="screen">
    <h1>ğŸš‡ å¹¿å·åœ°é“å¤§å¯Œç¿</h1>
    <p style="color:#aaa; margin-top:-10px">2026 è”ç½‘ä¿®å¤ç‰ˆ</p>
    <div style="margin-top:30px">
        <button class="btn" onclick="initGameStep1(2)">2äººå¯¹æˆ˜</button>
        <button class="btn" onclick="initGameStep1(3)">3äººå±€</button>
        <button class="btn" onclick="initGameStep1(4)">4äººä¹±æ–—</button>
    </div>
</div>

<div id="screen-mode" class="screen hidden">
    <h2>é€‰æ‹©èƒœåˆ©ç›®æ ‡</h2>
    <div class="grid-select">
        <div class="select-card selected" onclick="selectMode('work', this)">
            <h3>ğŸ’¼ ä¸Šç­æ—</h3>
            <p>ç»ˆç‚¹ï¼šç æ±Ÿæ–°åŸ</p>
        </div>
        <div class="select-card" onclick="selectMode('money', this)">
            <h3>ğŸ’° æ·˜é‡‘æ¢¦</h3>
            <p>èµ„é‡‘è¾¾åˆ° Â¥10000 è·èƒœ</p>
        </div>
    </div>
    <button class="btn" style="margin-top:20px" onclick="toRoleSelect()">ä¸‹ä¸€æ­¥</button>
</div>

<div id="screen-roles" class="screen hidden">
    <h2><span id="role-player-name" style="color:var(--highlight)">ç©å®¶1</span> é€‰æ‹©èº«ä»½</h2>
    <div class="grid-select" id="role-container"></div>
</div>

<div id="screen-wheel" class="screen hidden">
    <h2><span id="wheel-player">P1</span> æŠ½å–å‡ºå‘ç‚¹</h2>
    <div id="wheel-wrapper">
        <div id="wheel-pointer"></div>
        <div id="wheel"></div>
    </div>
    <button id="spin-btn" class="btn" onclick="spinWheel()">è½¬åŠ¨å‘½è¿</button>
    <p id="wheel-result" style="height:20px; color:var(--highlight); font-weight:bold; margin-top:10px"></p>
</div>

<div id="screen-game" class="hidden">
    <div id="game-container">
        <svg id="metro-svg" width="2500" height="3000" viewBox="0 0 2500 3000">
            <g id="layer-lines"></g>
            <g id="layer-stations"></g>
            <g id="layer-players"></g>
        </svg>
    </div>
    <div id="ui-panel">
        <div id="players-row"></div>
        <div id="controls-row">
            <div id="ui-tip">å‡†å¤‡å¼€å§‹...</div>
            <div id="dice-group">
                <div id="dice-box">?</div>
                <button id="roll-btn" class="btn" onclick="rollDice()">æ·éª°å­</button>
            </div>
        </div>
    </div>
</div>

<div id="screen-end" class="screen hidden">
    <h1>ğŸ† æ¸¸æˆç»“æŸ ğŸ†</h1>
    <h2 id="winner-name">ç©å®¶å</h2>
    <div id="winner-role">è§’è‰²èº«ä»½</div>
    <div id="end-stats-box" style="margin-top:20px"></div>
    <button class="btn" onclick="location.reload()">è¿”å›ä¸»é€‰å•</button>
</div>

<div id="modal-overlay"></div>
<div id="modal">
    <h3 id="modal-title">æ ‡é¢˜</h3>
    <div id="modal-content" style="margin:20px 0; font-size:15px; line-height:1.6">å†…å®¹</div>
    <button class="btn" onclick="closeModal()">ç¡®å®š</button>
</div>

<div id="net-panel" style="position:fixed; top:10px; right:10px; background:rgba(0,0,0,0.9); padding:10px; border:1px solid #009b4c; border-radius:8px; z-index:9999; color:white; font-size:12px; width:200px; transition: all 0.3s;">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
        <h4 style="margin:0; color:#009b4c">ğŸ“¡ è”æœºæ§åˆ¶å°</h4>
        <span onclick="toggleNetPanel()" style="cursor:pointer; font-size:16px;">_</span>
    </div>
    <div id="net-content">
        <div id="net-init-box">
            <p>ä½ çš„ID: <span id="my-peer-id" style="color:#ffcc00; font-family:monospace; font-weight:bold;">è·å–ä¸­...</span></p>
            <button class="btn" style="padding:5px 10px; font-size:12px; width:100%; margin:5px 0;" onclick="copyMyId()">å¤åˆ¶æˆ‘çš„ID</button>
            <hr style="border-color:#444">
            <input type="text" id="remote-id-input" placeholder="è¾“å…¥æœ‹å‹çš„ID" style="width:100%; padding:5px; margin-bottom:5px; background:#333; border:1px solid #555; color:white; border-radius:4px;">
            <button class="btn" style="padding:5px 10px; font-size:12px; width:100%; background:#006c9d; margin:5px 0;" onclick="connectToFriend()">è¿æ¥æœ‹å‹</button>
        </div>
        <div id="net-status-box" style="display:none; text-align:center; color:#009b4c; font-weight:bold; margin-top:10px;">
            âœ… å·²è¿æ¥æœ‹å‹ï¼<br>
            <span id="conn-role" style="font-size:10px; color:#aaa; font-weight:normal">å±å¹•åŒæ­¥ä¸­...</span>
        </div>
    </div>
</div>

<script>
/* ============================================================
   å†…åµŒæ•°æ® (åŸ data.js å†…å®¹ï¼Œé˜²æ­¢åŠ è½½å¤±è´¥)
   ============================================================ */
const COLORS={1:'#f3d03e',2:'#006c9d',3:'#f7941d','3z':'#f7941d',5:'#c5003e',6:'#833178',8:'#008583',18:'#004a98',4:'#00863f',7:'#9fb62d',9:'#78c694',10:'#7d9bc1',11:'#482684',12:'#77892b','12s':'#77892b',13:'#8e8c13',14:'#81312f','14z':'#81312f',21:'#2f2e78',22:'#d65636','gf':'#c3cc17','apm':'#00b5e2'};
const STATIONS={
'xilang':{n:'è¥¿å¡±',x:549,y:1719,t:true,ev:'start',desc:'èµ·ç‚¹ï¼šå¹¿ä½›åŒåŸçš„ç¬¬ä¸€ç«™ã€‚'},'kengkou':{n:'å‘å£',x:552,y:1669,ev:'stop_1',desc:'å®¢è¿ç«™æ‹‰å®¢å¤ªå¤šï¼Œè¢«å µä½äº†ã€‚æš‚åœä¸€å›åˆã€‚'},'huadiwan':{n:'èŠ±åœ°æ¹¾',x:552,y:1629,ev:'money_get_500',desc:'ä¹°èŠ±è¿æ°”çˆ†æ£šï¼Œè½¬æ‰‹èµšäº†Â¥500ã€‚'},'fangcun':{n:'èŠ³æ‘',x:554,y:1557,t:true,ev:'money_lose_50',desc:'èŠ±åœ°æ¹¾å·²æˆå›å¿†ï¼Œæ”¯ä»˜Â¥50æƒ…æ€€ç¨ã€‚'},'huangsha':{n:'é»„æ²™',x:554,y:1448,t:true,ev:'jump_wenhua',desc:'æµ·é²œå¸‚åœºå¤ªè…¥äº†ï¼é€Ÿé€Ÿé€ƒç¦»è‡³æ–‡åŒ–å…¬å›­ã€‚'},'changshoulu':{n:'é•¿å¯¿è·¯',x:554,y:1389,ev:'stop_1',desc:'æ’å®å¹¿åœºé¥®æ—©èŒ¶ï¼Œæ’é˜Ÿæ’åˆ°è„šè½¯ã€‚æš‚åœä¸€å›åˆã€‚'},'chenjiaci':{n:'é™ˆå®¶ç¥ ',x:585,y:1343,t:true,ev:'money_get_150',desc:'æ¬£èµå²­å—å»ºç­‘ç‘°å®ï¼Œæ–‡åŒ–è‡ªä¿¡ï¼å¥–åŠ±Â¥150ã€‚'},'ximenkou':{n:'è¥¿é—¨å£',x:640,y:1346,ev:'buff_next_roll_plus',desc:'è·¯è¿‡å…‰å­å¯ºï¼Œå¿ƒé™è‡ªç„¶å‡‰ã€‚ä¸‹ä¸€æ¬¡æ·éª°ç‚¹æ•°+1ã€‚'},'gongyuanqian':{n:'å…¬å›­å‰',x:686,y:1346,t:true,ev:'move_f_2',desc:'åŠ¨æ¼«æ˜ŸåŸçœ‹åˆ°Cosplayï¼Œå¿ƒæƒ…å¥½ï¼å‰è¿›2æ­¥ã€‚'},'nongjiangsuo':{n:'å†œè®²æ‰€',x:761,y:1340,ev:'card_get',desc:'å‚è§‚çº¢å¢™ç»¿ç“¦ï¼Œè·å¾—ä¸€å¼ æœºä¼šå¡ã€‚'},'martyrs':{n:'çƒˆå£«é™µå›­',x:815,y:1343,ev:'money_lose_200',desc:'å»ä¸­åå¹¿åœºä¹°æ‰‹æœºï¼Œæ¶ˆè´¹Â¥200ã€‚'},'dongshankou':{n:'ä¸œå±±å£',x:906,y:1343,t:true,ev:'stop_1',desc:'æ½®äººå¤ªå¤šï¼Œæ½®åˆ°é£æ¹¿ã€‚æš‚åœä¸€å›åˆã€‚'},'yangji':{n:'æ¨ç®•',x:968,y:1346,t:true,ev:'stop_1',desc:'1å·çº¿æ¢5å·çº¿èµ°åˆ°æ€€ç–‘äººç”Ÿã€‚æš‚åœä¸€å›åˆã€‚'},'tiyuxilu':{n:'ä½“è‚²è¥¿è·¯',x:1128,y:1284,t:true,ev:'event_tiyuxi',desc:'åœ°ç‹±è¥¿å¤§ä¹±æ–—ï¼æ·éª°å­å†³å®šå‘½è¿ã€‚'},'tiyuzhongxin':{n:'ä½“è‚²ä¸­å¿ƒ',x:1219,y:1200,ev:'money_get_200',desc:'çœ‹å¤©æ²³åŸçƒèµ›èµ¢äº†ï¼è·å¾—Â¥200ã€‚'},'guangzhoudong':{n:'å¹¿å·ä¸œç«™',x:1123,y:1153,t:true,ev:'transport',desc:'åœ¨æ­¤ä¼‘æ¯ï¼Œç­‰å¾…å‘è½¦ã€‚'},
'guangzhounan':{n:'å¹¿å·å—ç«™',x:857,y:2014,t:true,ev:'stop_2',desc:'è¡Œæç®±å¤ªå¤šè¢«æ’éª¨æŠ˜ã€‚æš‚åœ2å›åˆã€‚'},'shibi':{n:'çŸ³å£',x:859,y:1952,t:true,ev:'nothing',desc:'å‘¨å›´æ¯”è¾ƒè’å‡‰ï¼Œå¹³å®‰æ— äº‹ã€‚'},'huijiang':{n:'ä¼šæ±Ÿ',x:862, y:1896, ev:'money_lose_100', desc:'å·¨å¤§åˆ›æ„å›­åŠ ç­ï¼Œæ”¯ä»˜Â¥100å’–å•¡é’±ã€‚'},'nanpu':{n:'å—æµ¦',x:859,y:1855,ev:'move_b_1',desc:'å¤§æ¡¥å µè½¦äº†ï¼Œåé€€1æ­¥ã€‚'},'luoxi':{n:'æ´›æºª',x:857,y:1821,ev:'money_get_50',desc:'é£Ÿåœ¨æ´›æºªï¼Œå¿ƒæƒ…ä¸é”™ã€‚æ¢å¤ä½“åŠ›(Â¥50)ã€‚'},'nanzhou':{n:'å—æ´²',x:857,y:1768,t:true,ev:'interchange',desc:'æ¢ä¹˜å¹¿ä½›çº¿ï¼Œä¼‘æ¯ç‰‡åˆ»ã€‚'},'dongxiaonan':{n:'ä¸œæ™“å—',x:857,y:1715,t:true,ev:'money_get_50',desc:'ç¾é£Ÿè¡—åƒå®µå¤œï¼Œä½“åŠ›æ¢å¤(Â¥50)ã€‚'},'jiangtai':{n:'æ±Ÿæ³°è·¯',x:859,y:1675,t:true,ev:'money_get_100',desc:'ä¸‡ç§‘é‡Œé€›è¡—æ¡åˆ°é’±ï¼Œè·å¾—Â¥100ã€‚'},'changgang':{n:'æ˜Œå²—',x:857,y:1616,t:true,ev:'money_get_100',desc:'ç¾é™¢çœ‹å±•è§ˆï¼Œç²¾ç¥å¥–åŠ±Â¥100ã€‚'},'jiangnanxi':{n:'æ±Ÿå—è¥¿',x:846,y:1563,ev:'money_lose_300',desc:'ç½‘çº¢åº—æ’é˜Ÿæ‰“å¡ï¼Œæ¶ˆè´¹Â¥300ã€‚'},'shiergong':{n:'å¸‚äºŒå®«',x:802,y:1517,ev:'money_lose_200',desc:'å©šçº±è¡—çœ‹åˆ«äººç»“å©šï¼Œéšä»½å­é’±Â¥200ã€‚'},'haizhu':{n:'æµ·ç å¹¿åœº',x:766,y:1476,t:true,ev:'move_f_1',desc:'å¤œæ¸¸ç æ±Ÿï¼Œé£å…‰æ— é™ã€‚å‰è¿›1æ­¥ã€‚'},'jiniantang':{n:'çºªå¿µå ‚',x:684,y:1281,ev:'card_get',desc:'ç»ä»°ä¸­å±±çºªå¿µå ‚ï¼Œè·å¾—æœºä¼šå¡ã€‚'},'yuexiupark':{n:'è¶Šç§€å…¬å›­',x:686,y:1237,ev:'move_f_1',desc:'å‘¼å¸æ–°é²œç©ºæ°”ã€‚å‰è¿›1æ­¥ã€‚'},'guangzhouhuo':{n:'å¹¿å·ç«è½¦ç«™',x:686,y:1160,t:true,ev:'move_b_2',desc:'é»‘ä½¬é¦™æ°´å‘³å¤ªç†ã€‚åé€€2æ­¥ã€‚'},'sanyuanli':{n:'ä¸‰å…ƒé‡Œ',x:699,y:1094,ev:'money_get_300',desc:'çš®å…·åŸè¿›è´§æˆåŠŸï¼Œèµšäº†Â¥300ã€‚'},'feixiang':{n:'é£ç¿”å…¬å›­',x:735,y:1057,ev:'money_lose_200',desc:'ä¸‡è¾¾å¹¿åœºè´­ç‰©ï¼Œæ¶ˆè´¹Â¥200ã€‚'},'baiyunpark':{n:'ç™½äº‘å…¬å›­',x:769,y:1020,ev:'move_b_1',desc:'å„¿ç«¥å…¬å›­è¢«å°å­©åµæ­»ã€‚åé€€1æ­¥ã€‚'},'baiyuncal':{n:'ç™½äº‘æ–‡åŒ–',x:800,y:983,t:true,ev:'card_get',desc:'çœ‹æ¼”å”±ä¼šï¼Œè·å¾—ä¸€å¼ æœºä¼šå¡ã€‚'},'xiaogang':{n:'è§å²—',x:844,y:930,ev:'nothing',desc:'è¿™é‡Œä¸»è¦æ˜¯ä½å®…åŒºï¼Œæ— äº‹å‘ç”Ÿã€‚'},'jiangxia':{n:'æ±Ÿå¤',x:880,y:883,ev:'rent',desc:'å¾ˆå¤šå¹¿æ¼‚ä½è¿™ï¼Œäº¤æˆ¿ç§ŸÂ¥300ã€‚'},'huangbian':{n:'é»„è¾¹',x:916,y:843,ev:'money_lose_200',desc:'å»å¾‹å¸ˆå¤§å¦å’¨è¯¢æ³•å¾‹é—®é¢˜ï¼ŒèŠ±è´¹Â¥200ã€‚'},'jiahewanggang':{n:'å˜‰ç¦¾æœ›å²—',x:970,y:781,t:true,ev:'nothing',desc:'é’æ˜¥çš„åˆ†å²”å£ã€‚å‡†å¤‡æ¢ä¹˜ã€‚'},
'jichangbei':{n:'æœºåœºåŒ—',x:919,y:389,ev:'fly',desc:'å‡†å¤‡ç™»æœºå‡ºå›½ã€‚ä¸‹å›åˆç›´æ¥é£å¾€éšæœºç«™ç‚¹ã€‚'},'jichangnan':{n:'æœºåœºå—',x:952,y:448,ev:'move_b_3',desc:'æ¥æœºé€é”™èˆªç«™æ¥¼ï¼Œç‹‚å¥”ï¼åé€€3æ­¥ã€‚'},'gaozeng':{n:'é«˜å¢',x:965,y:560,t:true,ev:'interchange',desc:'æ¢ä¹˜9å·çº¿å»èŠ±éƒ½ã€‚'},'renhe':{n:'äººå’Œ',x:963,y:638,ev:'money_get_50',desc:'åƒåä¾¨ç¾é£Ÿï¼Œå¿ƒæƒ…ä¸é”™(Â¥50)ã€‚'},'longgui':{n:'é¾™å½’',x:963,y:700,ev:'stop_1',desc:'çº¿è·¯åˆé•¿åˆæ™ƒåˆæ²¡ç½‘ã€‚æš‚åœä¸€å›åˆã€‚'},'baiyundadao':{n:'ç™½äº‘å¤§é“åŒ—',x:1040,y:840,ev:'money_get_100',desc:'å»çˆ¬ç™½äº‘å±±ï¼Œèº«ä½“å¥åº·(Â¥100)ã€‚'},'yongtai':{n:'æ°¸æ³°',x:1087,y:893,ev:'money_get_50',desc:'åƒä¸ªå¿«é¤ï¼Œä½“åŠ›æ¢å¤(Â¥50)ã€‚'},'tonghe':{n:'åŒå’Œ',x:1123,y:961,ev:'rent',desc:'æ—©é«˜å³°è¿›ç«™é™æµï¼Œè¿Ÿåˆ°æ‰£å·¥èµ„Â¥200ã€‚'},'jingxi':{n:'äº¬æºªå—æ–¹åŒ»é™¢',x:1128,y:1020,ev:'move_f_1',desc:'æ¡åˆ°èƒ½é‡é¥®æ–™ã€‚å‰è¿›1æ­¥ã€‚'},'meihuayuan':{n:'æ¢…èŠ±å›­',x:1126,y:1060,ev:'move_f_2',desc:'æ¬§çˆ±å‡ç åˆé¦™åˆå¹²å‡€ã€‚å‰è¿›2æ­¥ã€‚'},'yantang':{n:'ç‡•å¡˜',x:1126,y:1110,t:true,ev:'stop_1',desc:'ç‰›é©¬å¤ªå¤šï¼Œè¢«æŒ¤ä¸‹åœ°é“ã€‚æš‚åœä¸€å›åˆã€‚'},'linhexi':{n:'æ—å’Œè¥¿',x:1126,y:1212,t:true,ev:'move_b_1',desc:'æ—©é¤è¢«åˆ«äººåƒäº†ä¸€å£ã€‚åé€€1æ­¥ã€‚'},'zhujiang':{n:'ç æ±Ÿæ–°åŸ',x:1126,y:1405,t:true,ev:'money_lose_10',desc:'è¥¿è£…é©å±¥è·‘ä¸šåŠ¡æ±—æµæµƒèƒŒã€‚æ”¯ä»˜Â¥10ä¹°çº¸å·¾ã€‚'},'guangzhouta':{n:'å¹¿å·å¡”',x:1128,y:1470,t:true,ev:'goto_jail',desc:'è¢«å¹¿å·å¡”æ¿€å…‰å°„ä¸­ï¼é€å¾€ç²¾ç¥ç—…é™¢ã€‚'},'kecun':{n:'å®¢æ‘',x:1123,y:1613,t:true,ev:'event_kecun',desc:'å®¢æ‘å¥‡é‡ï¼šç¦ç¥¸ç›¸ä¾ã€‚'},'datang':{n:'å¤§å¡˜',x:1123,y:1688,t:true,ev:'buff_niuza',desc:'åŸä¸­æ‘çƒŸç«æ°”ï¼ŒèŠ±è´¹Â¥80ä¹°ç‰›æ‚ï¼Œè·å…ç§ŸBuffã€‚'},'lijiao':{n:'æ²¥æ»˜',x:1123,y:1775,t:true,ev:'interchange',desc:'ç»ˆäºå¯ä»¥æ¢ä¹˜å¹¿ä½›çº¿äº†ã€‚'},'xiajiao':{n:'å¦æ»˜',x:1128,y:1840,ev:'move_f_2',desc:'æˆåŠŸåœ¨é™æµå‰æŒ¤ä¸Šåœ°é“ï¼Œçªƒå–œã€‚å‰è¿›2æ­¥ã€‚'},'dashi':{n:'å¤§çŸ³',x:1151,y:1883,ev:'rent',desc:'åŸä¸­æ‘æ¡æ‰‹æ¥¼ï¼Œä¿¡å·ä¸å¥½ï¼Œé”™è¿‡Â¥200çº¢åŒ…ã€‚'},'hanxi':{n:'æ±‰æºªé•¿éš†',x:1182,y:1917,t:true,ev:'move_f_3_stop_1',desc:'é•¿éš†æ¸¸ç©å¥½å¿ƒæƒ…ï¼Œå‰è¿›3æ­¥ï¼Œä½†ç©ç´¯äº†æš‚åœä¸€å±€ã€‚'},'shiqiao':{n:'å¸‚æ¡¥',x:1307,y:1992,ev:'money_lose_200',desc:'å»ä¹°ç å®é¦–é¥°ï¼Œæ¶ˆè´¹Â¥200ã€‚'},'panyu':{n:'ç•ªç¦ºå¹¿åœº',x:1412,y:2001,t:true,ev:'money_get_200',desc:'ç•ªç¦ºåŒºåºœåŠäº‹é¡ºåˆ©ã€‚è·å¾—Â¥200ã€‚'},'bangjiang':{n:'å‚æ±Ÿ',x:1508,y:1995,ev:'nothing',desc:'æ­£åœ¨å»ºè®¾ä¸­ï¼Œå°˜åœŸé£æ‰¬ã€‚'},'shiqinan':{n:'çŸ³ç¢å—',x:1588,y:1995,ev:'nothing',desc:'ç­‰å¾…äºšè¿å¤§é“æ‰©å»ºã€‚'},'haiyonglu':{n:'æµ·æ¶Œè·¯',x:1671,y:1995,ev:'nothing',desc:'çœ‹é£æ™¯ã€‚'},'haibang':{n:'æµ·å‚',x:1756,y:1998,t:true,ev:'nothing',desc:'äºšè¿æ‘æ—§å€ï¼Œæ€€å¿µ2010å¹´ã€‚'},
'tianhekeyun':{n:'å¤©æ²³å®¢è¿ç«™',x:1322,y:1094,t:true,ev:'stop_1',desc:'åå¤§å·´å›è€å®¶ã€‚æš‚åœä¸€å›åˆã€‚'},'wushan':{n:'äº”å±±',x:1312,y:1138,ev:'card_get',desc:'åå·¥è‚¯å¾·åŸºå¤ä¹ ã€‚è·å¾—æœºä¼šå¡ã€‚'},'huashi':{n:'åå¸ˆ',x:1307,y:1191,t:true,ev:'move_f_1',desc:'å¤©æ¡¥åº•ä¸‹å…¨æ˜¯å¤–å–è½¦ã€‚å°å¿ƒç¿¼ç¿¼å‰è¿›1æ­¥ã€‚'},'gangding':{n:'å²—é¡¶',x:1283,y:1228,ev:'money_lose_200',desc:'ç”µè„‘åŸä¹°æ˜¾å¡è¢«å‘ã€‚æŸå¤±Â¥200ã€‚'},'shipaiqiao':{n:'çŸ³ç‰Œæ¡¥',x:1244,y:1225,ev:'money_lose_50',desc:'æ³ªã€‚æ”¯ä»˜Â¥50â€œæƒ…æ„ŸæŸå¤±è´¹â€ã€‚'},
'nansha_keyun':{n:'å—æ²™å®¢è¿æ¸¯',x:2165,y:2346,ev:'money_get_100',desc:'æœ€ç¾åœ°é“ç«™æ‰“å¡ã€‚å¥–åŠ±Â¥100ã€‚'},'nanheng':{n:'å—æ¨ª',x:2108,y:2352,ev:'nothing',desc:'æµ·é£å¹æ‹‚ã€‚'},'tangkeng':{n:'å¡˜å‘',x:2064,y:2352,ev:'nothing',desc:'å—æ²™è€è¡—é€›ä¸€é€›ã€‚'},'dashan':{n:'å¤§æ¶Œ',x:2028,y:2334,ev:'nothing',desc:'å®‰é™çš„ç«™ç‚¹ã€‚'},'guanglong':{n:'å¹¿éš†',x:1999,y:2306,ev:'nothing',desc:'å·¥ä¸šåŒºã€‚'},'feishajiao':{n:'é£æ²™è§’',x:1971,y:2265,ev:'nothing',desc:'åå­—å¾ˆå¥½å¬ï¼Œä½†å‘¨å›´æ²¡å•¥ã€‚'},'jinzhou':{n:'é‡‘æ´²',x:1945,y:2225,ev:'money_lose_200',desc:'ä¸‡è¾¾å¹¿åœºåƒå–ç©ä¹ï¼Œæ¶ˆè´¹Â¥200ã€‚'},'jiaomen':{n:'è•‰é—¨',x:1919,y:2200,ev:'gov',desc:'å—æ²™åŒºæ”¿åºœåŠäº‹ã€‚è·å¾—æœºä¼šå¡ã€‚'},'huangge':{n:'é»„é˜',x:1893,y:2169,ev:'money_lose_200',desc:'æ±½è½¦åŸçœ‹æ–°è½¦ã€‚ç»™200å°è´¹ã€‚'},'huanggechuan':{n:'é»„é˜æ±½è½¦åŸ',x:1873,y:2132,ev:'speed_x2',desc:'è¯•é©¾æ–°è½¦ï¼Œé€Ÿåº¦é£™å‡ï¼ä¸‹å›åˆæ­¥æ•°x2ã€‚'},'qingsheng':{n:'åº†ç››',x:1844,y:2104,t:true,ev:'transport',desc:'æ¢ä¹˜é«˜é“ã€‚'},'dongchong':{n:'ä¸œæ¶Œ',x:1811,y:2066,ev:'money_lose_50',desc:'æ°´ä¹¡é£æƒ…ï¼Œåƒå†œå®¶èœ(Â¥50)ã€‚'},'dichong':{n:'ä½æ¶Œ',x:1787,y:2035,ev:'speed_x2',desc:'çœ‹é«˜é“é£é©°è€Œè¿‡ï¼Œæ„Ÿå—é€Ÿåº¦ã€‚ä¸‹ä¸€æ¬¡ç§»åŠ¨æ­¥æ•°x2ã€‚'},'shiqi':{n:'çŸ³ç¢',x:1733,y:1967,ev:'nothing',desc:'åˆæ˜¯çŸ³ç¢ã€‚'},'guanqiao':{n:'å®˜æ¡¥',x:1694,y:1924,ev:'future',desc:'æœªæ¥ä½›èåŸé™…æ¢ä¹˜ç‚¹ã€‚'},'xinzao':{n:'æ–°é€ ',x:1663,y:1883,ev:'move_f_1',desc:'æš¨å¤§æ ¡åŒºå¾ˆå¤§ã€‚å‰è¿›1æ­¥ã€‚'},'daxuecheng_nan':{n:'å¤§å­¦åŸå—',x:1614,y:1830,t:true,ev:'money_get_20',desc:'å·¥å¤§å¹¿å·¥é¥­å ‚è¹­é¥­ã€‚çœä¸‹Â¥20é¥­é’±ã€‚'},'daxuecheng_bei':{n:'å¤§å­¦åŸåŒ—',x:1575,y:1781,ev:'card_get',desc:'ä¸­å¤§åå¸ˆå­¦éœ¸å¤šã€‚è·å¾—æœºä¼šå¡ã€‚'},'guanzhou':{n:'å®˜æ´²',x:1542,y:1737,t:true,ev:'money_get_50',desc:'ç”Ÿç‰©å²›éª‘å•è½¦ï¼Œèº«å¿ƒå¥åº·(Â¥50)ã€‚'},'wanshengwei':{n:'ä¸‡èƒœå›´',x:1534,y:1557,t:true,ev:'stop_1',desc:'åæœ‰è½¨ç”µè½¦çœ‹æ—¥è½ã€‚æš‚åœæ¬£èµä¸€å›åˆã€‚'},'chebeinan':{n:'è½¦é™‚å—',x:1537,y:1393,t:true,ev:'move_b_1',desc:'4å·5å·çº¿æ¢ä¹˜å¤§å†›ã€‚è¢«æŒ¤é€€1æ­¥ã€‚'},'chebei':{n:'è½¦é™‚',x:1534,y:1290,t:true,ev:'money_get_200',desc:'åŸä¸­æ‘æˆ¿ç§Ÿä¾¿å®œã€‚è·å¾—Â¥200ç”Ÿæ´»è´¹ã€‚'},'huangcun':{n:'é»„æ‘',x:1534,y:1237,t:true,ev:'money_lose_200',desc:'å¥¥ä½“ä¸­å¿ƒçœ‹æ¯”èµ›ã€‚èŠ±è´¹Â¥200é—¨ç¥¨ã€‚'},
'jiaokou':{n:'æ»˜å£',x:417,y:1414,ev:'stop_1',desc:'ä½›å±±å€™é¸Ÿå¤§å†›ã€‚æ‹¥æŒ¤ï¼Œæš‚åœä¸€å›åˆã€‚'},'tanwei':{n:'å¦å°¾',x:464,y:1355,t:true,ev:'money_get_100',desc:'åœ¨æ¡¥ä¸Šçœ‹æ±Ÿæ™¯ï¼Œå¿ƒæƒ…èˆ’ç•…(Â¥100)ã€‚'},'zhongshanba':{n:'ä¸­å±±å…«',x:526,y:1287,t:true,ev:'money_lose_200',desc:'ç«¥è£…æ‰¹å‘å¸‚åœºã€‚ç»™äº²æˆšå°å­©ä¹°è¡£æœèŠ±è´¹Â¥200ã€‚'},'xichang':{n:'è¥¿åœº',x:546,y:1231,ev:'money_get_50',desc:'è€è¥¿å…³ç¾é£Ÿã€‚æ¢å¤ä½“åŠ›(Â¥50)ã€‚'},'xicun':{n:'è¥¿æ‘',x:580,y:1169,t:true,ev:'interchange',desc:'æ¢ä¹˜8å·çº¿ï¼Œè·¯é€”é¥è¿œã€‚'},'xiaobei':{n:'å°åŒ—',x:779,y:1203,ev:'card_get',desc:'æ„Ÿå—å›½é™…åŒ–æ°›å›´ã€‚è·å¾—æœºä¼šå¡ã€‚'},'taojin':{n:'æ·˜é‡‘',x:852,y:1243,ev:'money_get_100',desc:'æ›¾ç»çš„CBDï¼Œå–æ¯å’–å•¡ä¼‘æ¯ä¸€ä¸‹ã€‚è·å¾—Â¥100ã€‚'},'quzhuang':{n:'åŒºåº„',x:934,y:1243,t:true,ev:'move_f_1',desc:'å¤æ‚çš„ç«‹äº¤æ¡¥çœ‹æ™•äº†ã€‚ä¸‹å›åˆåªèƒ½å‰è¿›1æ­¥ã€‚'},'dongwuyuan':{n:'åŠ¨ç‰©å›­',x:970,y:1281,ev:'money_get_100',desc:'çœ‹åŠ¨ç‰©å¿ƒæƒ…å¥½ã€‚å¥–åŠ±Â¥100ã€‚'},'wuyangcun':{n:'äº”ç¾Šé‚¨',x:999,y:1408,t:true,ev:'rent',desc:'ä½åœ¨CBDæ—è¾¹ï¼Œæˆ¿ç§Ÿæ„Ÿäººã€‚æ”¯ä»˜Â¥300ã€‚'},'liede':{n:'çŒå¾·',x:1247,y:1399,ev:'money_get_200',desc:'é‡åˆ°æˆ¿ä¸œå¤§çˆ·ï¼Œå‘äº†ä¸ªçº¢åŒ…Â¥200ã€‚'},'tancun':{n:'æ½­æ‘',x:1325,y:1405,ev:'money_lose_10',desc:'è·¯è¿‡é«˜ç«¯å°åŒºæ„Ÿå¹æˆ¿ä»·ã€‚æ”¯ä»˜Â¥10â€œæŸ æª¬ç¨â€ã€‚'},'yuancun':{n:'å‘˜æ‘',x:1410,y:1408,t:true,ev:'move_b_1',desc:'çº¢ç –å‚å·²ä¸åœ¨ï¼Œæ–‡è‰ºé’å¹´è½æ³ªã€‚åé€€1æ­¥ã€‚'},'keyunlu':{n:'ç§‘éŸµè·¯',x:1477,y:1408,ev:'stop_1',desc:'ç¨‹åºå‘˜åŠ ç­åœ£åœ°ã€‚æš‚åœä¸€å›åˆå†™ä»£ç ã€‚'},'dongpu':{n:'ä¸œåœƒ',x:1606,y:1402,ev:'money_get_50',desc:'åƒå®µå¤œï¼Œå……æ»¡æ´»åŠ›(Â¥50)ã€‚'},'sanxi':{n:'ä¸‰æºª',x:1653,y:1408,ev:'move_f_2',desc:'è·¯è¿‡å±±å§†è¯•åƒï¼Œèƒ½é‡æ»¡æ»¡ï¼å‰è¿›2æ­¥ã€‚'},'yuzhu':{n:'é±¼ç ',x:1697,y:1408,t:true,ev:'nothing',desc:'æœ¨æå¸‚åœºï¼Œæ— äº‹å‘ç”Ÿã€‚'},'dashadi':{n:'å¤§æ²™åœ°',x:1759,y:1411,ev:'money_lose_100',desc:'è€é»„åŸ”å•†ä¸šè¡—ï¼Œä¹°ç‚¹ä¸œè¥¿(Â¥100)ã€‚'},'dashadong':{n:'å¤§æ²™ä¸œ',x:1805,y:1402,t:true,ev:'gov',desc:'é»„åŸ”åŒºåºœåŠäº‹ã€‚è·å¾—æœºä¼šå¡ã€‚'},'wenchong':{n:'æ–‡å†²',x:1857,y:1439,ev:'money_get_100',desc:'åˆ°è¾¾ç»ˆç‚¹åŒºåŸŸï¼Œå¥–åŠ±100å—ã€‚'},'shuangsha':{n:'åŒæ²™',x:1898,y:1486,ev:'nothing',desc:'å®‰é™çš„ç«™ç‚¹ã€‚'},'miaotou':{n:'åº™å¤´',x:1945,y:1538,ev:'money_get_50',desc:'å—æµ·ç¥åº™å°±åœ¨é™„è¿‘ï¼Œå¿ƒæƒ…å¥½ã€‚'},'xiayuan':{n:'å¤å›­',x:1989,y:1585,t:true,ev:'nothing',desc:'è½¬ä¹˜BRTï¼Œæ–¹ä¾¿å¿«æ·ã€‚'},'baoying':{n:'ä¿ç›ˆå¤§é“',x:2012,y:1653,ev:'nothing',desc:'å¼€å‘åŒºå·¥ä¸šå›­ã€‚'},'xiagang':{n:'å¤æ¸¯',x:2007,y:1719,ev:'nothing',desc:'å¼€å‘åŒºå·¥ä¸šå›­ã€‚'},'huangpuxingang':{n:'é»„åŸ”æ–°æ¸¯',x:2007,y:1793,ev:'nothing',desc:'çœ‹å¤§èˆ¹ï¼Œå¹æµ·é£ã€‚'},
'xunfenggang':{n:'æµ”å³°å²—',x:391,y:1088,t:true,ev:'money_get_50',desc:'å±±æ¸…æ°´ç§€ã€‚æ¢å¤å¿ƒæƒ…(Â¥50)ã€‚'},'hengsha':{n:'æ¨ªæ²™',x:430,y:1156,ev:'nothing',desc:'é‡‘æ²™æ´²å±…ä½åŒºã€‚'},'shabei':{n:'æ²™è´',x:430,y:1222,ev:'stop_1',desc:'é‡‘æ²™æ´²å¤§æ¡¥å µè½¦ï¼æš‚åœä¸€å›åˆã€‚'},'hesha':{n:'æ²³æ²™',x:430,y:1284,ev:'nothing',desc:'è€åŸåŒºè¾¹ç¼˜ã€‚'},'ruyifang':{n:'å¦‚æ„åŠ',x:513,y:1399,t:true,ev:'nothing',desc:'æœŸå¾…éš§é“å¼€é€šã€‚'},'wenhuagongyuan':{n:'æ–‡åŒ–å…¬å›­',x:658,y:1483,t:true,ev:'move_f_2',desc:'å¤œæ¸¸ç æ±Ÿï¼Œå¿ƒæ—·ç¥æ€¡ã€‚å‰è¿›2æ­¥ã€‚'},'yide':{n:'ä¸€å¾·è·¯',x:722,y:1483,ev:'money_lose_200',desc:'ä¹°æµ·å‘³å’Œç©å…·ï¼ŒèŠ±è´¹Â¥200ã€‚'},'beijinglu':{n:'åŒ—äº¬è·¯',x:828,y:1483,ev:'money_lose_100',desc:'æ­¥è¡Œè¡—åƒå–ç©ä¹ï¼Œæ¶ˆè´¹Â¥100ã€‚'},'tuanyida':{n:'å›¢ä¸€å¤§',x:885,y:1483,ev:'move_f_2',desc:'è‡´æ•¬é©å‘½æ–°é’å¹´ã€‚å‰è¿›2æ­¥ã€‚'},'donghu':{n:'ä¸œæ¹–',x:908,y:1430,t:true,ev:'money_get_50',desc:'ä¸œå±±æ¹–å…¬å›­åˆ’èˆ¹ã€‚æ¢å¤å¿ƒæƒ…(Â¥50)ã€‚'},'huanghuagang':{n:'é»„èŠ±å²—',x:960,y:1209,ev:'money_get_50',desc:'ç¼…æ€€å…ˆçƒˆï¼Œç²¾ç¥æ¿€åŠ±(Â¥50)ã€‚'},'shaheding':{n:'æ²™æ²³é¡¶',x:989,y:1181,ev:'money_lose_100',desc:'æœè£…æ‰¹å‘ï¼Œä¹°è¡£æœèŠ±è´¹Â¥100ã€‚'},'shahe':{n:'æ²™æ²³',x:1020,y:1156,t:true,ev:'nothing',desc:'è¿˜æ²¡å¼€é€šï¼Ÿ(å‡è£…å¼€é€šäº†) æ‹¿è´§å»ã€‚'},'tianpingjia':{n:'å¤©å¹³æ¶',x:1071,y:1113,ev:'money_get_50',desc:'æ°´æœæ‰¹å‘å¸‚åœºä¹°æ°´æœã€‚æ¢å¤ä½“åŠ›(Â¥50)ã€‚'},'changban':{n:'é•¿æ¹´',x:1363,y:1042,ev:'nothing',desc:'åŸä¸­æ‘ã€‚'},'zhiwuyuan':{n:'æ¤ç‰©å›­',x:1397,y:995,ev:'money_get_100',desc:'åå—æ¤ç‰©å›­å¸æ°§ã€‚æ¢å¤çŠ¶æ€(Â¥100)ã€‚'},'longdong':{n:'é¾™æ´',x:1459,y:952,ev:'money_get_50',desc:'æ­¥è¡Œè¡—åƒå°åƒã€‚æ¢å¤ä½“åŠ›(Â¥50)ã€‚'},'kemulang':{n:'æŸ¯æœ¨å¡±',x:1534,y:952,ev:'nothing',desc:'ç«ç‚‰å±±è„šä¸‹ã€‚'},'gaotangshi':{n:'é«˜å¡˜çŸ³',x:1588,y:952,ev:'money_get_100',desc:'ç½‘æ˜“å¤§å¦åœ¨é™„è¿‘ï¼Œæ¥äº†ä¸ªå¤–åŒ…èµšÂ¥100ã€‚'},'huangpei':{n:'é»„é™‚',x:1637,y:942,ev:'nothing',desc:'å¤©æ²³æ¹¿åœ°å…¬å›­ã€‚'},'jinfeng':{n:'é‡‘å³°',x:1687,y:939,ev:'nothing',desc:'ä¸‡ç§‘åŸå±…ä½åŒºã€‚'},'xiangang':{n:'æš¹å²—',x:1738,y:976,ev:'money_lose_100',desc:'å»ä¸­å±±ä¸‰é™¢ä½“æ£€ï¼ŒèŠ±è´¹Â¥100ã€‚'},'suyuan':{n:'è‹å…ƒ',x:1767,y:1011,t:true,ev:'card_get',desc:'å®èƒ½æ¼”è‰ºä¸­å¿ƒçœ‹æ¼”å‡ºã€‚è·å¾—æœºä¼šå¡ã€‚'},'luogang':{n:'èå²—',x:1795,y:1054,t:true,ev:'money_get_50',desc:'é¦™é›ªå…¬å›­çœ‹æ¢…èŠ±ã€‚å¿ƒæƒ…å¥½(Â¥50)ã€‚'},'xiangxue':{n:'é¦™é›ª',x:1937,y:1057,ev:'end',desc:'6å·çº¿ç»ˆç‚¹ã€‚'},
'meididadao':{n:'ç¾çš„å¤§é“',x:662,y:2195,ev:'start',desc:'é¡ºå¾·èµ·ç‚¹ã€‚'},'beijiao':{n:'åŒ—æ»˜å…¬å›­',x:665,y:2256,ev:'money_get_50',desc:'é€›å’Œç¾æœ¯é¦†ï¼Œè‰ºæœ¯ç†é™¶(Â¥50)ã€‚'},'midea':{n:'ç¾çš„',x:711,y:2274,ev:'money_get_100',desc:'å‚è§‚500å¼ºä¼ä¸šã€‚è·å¾—çºªå¿µå“(Â¥100)ã€‚'},'nanchong':{n:'å—æ¶Œ',x:753,y:2234,ev:'nothing',desc:'é¡ºå¾·æ°´ä¹¡ã€‚'},'jinlong':{n:'é”¦é¾™',x:780,y:2198,ev:'nothing',desc:'é™ˆæ‘å±…ä½åŒºã€‚'},'chencun':{n:'é™ˆæ‘',x:804,y:2162,ev:'card_get',desc:'é™ˆæ‘èŠ±å‰ä¸–ç•Œã€‚è·å¾—æœºä¼šå¡ã€‚'},'chencunbei':{n:'é™ˆæ‘åŒ—',x:841,y:2122,ev:'future',desc:'æ¢ä¹˜ä½›å±±11å·çº¿(æœªå¼€é€š)ã€‚'},'dazhou':{n:'å¤§æ´²',x:874,y:2086,ev:'nothing',desc:'é£æ™¯ä¸é”™ã€‚'},'xiecun':{n:'è°¢æ‘',x:970,y:1926,ev:'nothing',desc:'å»çœ‹è¶³çƒåœº(è¿˜åœ¨å»ºå—?)ã€‚'},'zhongcun':{n:'é’Ÿæ‘',x:1073,y:1926,ev:'money_get_50',desc:'åƒä¸‰å®ï¼Œç¾å‘³(Â¥50)ã€‚'},'nancun':{n:'å—æ‘ä¸‡åš',x:1345,y:1915,t:true,ev:'stop_1',desc:'ç«™å†…æ¢ä¹˜å¤ªä¹…ï¼Œèµ°åˆ°è…¿æ–­ã€‚åœç•™1å±€ã€‚'},'yuangang':{n:'å‘˜å²—',x:1466,y:1926,ev:'rent',desc:'æˆ¿ç§Ÿä¾¿å®œä½†äººå¤šã€‚äº¤ç§ŸÂ¥200ã€‚'},'banqiao':{n:'æ¿æ¡¥',x:1547,y:1886,ev:'nothing',desc:'å®‰é™çš„æ‘è½ã€‚'},'shenjing':{n:'æ·±äº•',x:1662,y:1770,ev:'money_get_50',desc:'åƒæ·±äº•çƒ§é¹…ï¼å¥–åŠ±Â¥50ã€‚'},'changzhou':{n:'é•¿æ´²',x:1725,y:1694,ev:'money_get_100',desc:'é»„åŸ”å†›æ ¡æ—§å€ã€‚è·å¾—çˆ±å›½Buff(Â¥100)ã€‚'},'yufengwei':{n:'è£•ä¸°å›´',x:1773,y:1632,t:true,ev:'nothing',desc:'æ¸¯å£ç¹å¿™ã€‚'},'jizhang':{n:'å§¬å ‚',x:1807,y:1299,ev:'nothing',desc:'ç”±äºæ–½å·¥é“è·¯å°é—­ã€‚'},'jiazhuang':{n:'åŠ åº„',x:1804,y:1215,ev:'nothing',desc:'ç§‘å­¦åŸè¾¹ç¼˜ã€‚'},'kefenglu':{n:'ç§‘ä¸°è·¯',x:1804,y:1128,ev:'nothing',desc:'å­µåŒ–å™¨è·¯æ¼”ã€‚'},'shuixi':{n:'æ°´è¥¿',x:1807,y:969,t:true,ev:'gov',desc:'é»„åŸ”åŒºåºœã€‚è·å¾—æœºä¼šå¡ã€‚'},'yanshan':{n:'ç‡•å±±',x:1801,y:900,ev:'end',desc:'7å·çº¿äºŒæœŸç»ˆç‚¹ã€‚'},
'jiaoxin':{n:'æ»˜å¿ƒ',x:575,y:762,ev:'start',desc:'ç™½äº‘æ¹–å…¬å›­ã€‚'},'tinggang':{n:'äº­å²—',x:575,y:799,ev:'nothing',desc:'ç‰©æµå›­ã€‚'},'shijing':{n:'çŸ³äº•',x:572,y:843,ev:'money_lose_200',desc:'è·¯é¢äº¤é€šæ‹¥å µï¼Œæ‰“è½¦ä¸Šç­ã€‚æ”¯ä»˜Â¥200ã€‚'},'xiaoping':{n:'å°åª',x:575,y:902,ev:'nothing',desc:'ç«è½¦ç«™æ”¹é€ åŒºï¼Œæ–½å·¥ä¸­ã€‚'},'shitan':{n:'çŸ³æ½­',x:578,y:942,ev:'nothing',desc:'åœ°ä¸‹è½¦ç«™ã€‚'},'julong':{n:'èšé¾™',x:580,y:998,t:true,ev:'money_lose_100',desc:'é‹åŸä¹°é‹ã€‚èŠ±è´¹Â¥100ã€‚'},'shangbu':{n:'ä¸Šæ­¥',x:578,y:1042,ev:'nothing',desc:'è€åŸåŒºã€‚'},'tongde':{n:'åŒå¾·',x:578,y:1082,ev:'nothing',desc:'åŒå¾·å›´è§£å›´äº†ï¼'},'ezhangtan':{n:'é¹…æŒå¦',x:575,y:1125,ev:'nothing',desc:'æœè£…ä»“åº“ã€‚'},'caihongqiao':{n:'å½©è™¹æ¡¥',x:583,y:1234,t:true,ev:'money_get_50',desc:'æµèŠ±æ¹–å…¬å›­æ•£æ­¥(Â¥50)ã€‚'},'hualinsi':{n:'åæ—å¯º',x:619,y:1420,ev:'money_get_100',desc:'æ‹œç‰å™¨è¡—çš„ä½›ã€‚æ±‚å¾—å¹³å®‰(Â¥100)ã€‚'},'tongfuxi':{n:'åŒç¦è¥¿',x:696,y:1514,ev:'money_get_50',desc:'éª‘æ¥¼è€è¡—ç¾é£Ÿå¤š(Â¥50)ã€‚'},'fenghuang':{n:'å‡¤å‡°æ–°æ‘',x:725,y:1557,ev:'nothing',desc:'å·¥ä¸šå¤§é“ç¤¾ç•œçš„å®¶ã€‚'},'shayuan':{n:'æ²™å›­',x:761,y:1597,t:true,ev:'event_shayuan',desc:'å·¨å¤§åå­—è·¯å£ã€‚è§¦å‘æ¢ä¹˜äº‹ä»¶ã€‚'},'baogang':{n:'å®å²—å¤§é“',x:805,y:1619,ev:'nothing',desc:'æµ·ç è€åŸåŒºã€‚'},'xiaogang8':{n:'æ™“æ¸¯',x:914,y:1622,ev:'nothing',desc:'ç¾é™¢å¸ƒåŒ¹å¸‚åœºã€‚'},'zhongda':{n:'ä¸­å¤§',x:945,y:1622,ev:'stop_1',desc:'å¸ƒåŒ¹å¸‚åœºç”µåŠ¨è½¦å¤ªå¤šï¼Œå µä½äº†ã€‚æš‚åœä¸€å›åˆã€‚'},'lujiang':{n:'é¹­æ±Ÿ',x:1056,y:1616,ev:'nothing',desc:'åº·ä¹æ‘äººå±±äººæµ·ã€‚'},'chigang':{n:'èµ¤å²—',x:1177,y:1588,t:true,ev:'nothing',desc:'çœäºŒåŒ»ã€‚'},'modiesha':{n:'ç£¨ç¢Ÿæ²™',x:1257,y:1557,t:true,ev:'stop_1',desc:'å¾®ä¿¡æ€»éƒ¨åŠ ç­3å°æ—¶ã€‚åœç•™1å±€ã€‚'},'xingangdong':{n:'æ–°æ¸¯ä¸œ',x:1314,y:1554,ev:'nothing',desc:'å¹¿äº¤ä¼šå±•é¦†ã€‚'},'pazhou':{n:'ç¶æ´²',x:1389,y:1554,t:true,ev:'money_get_200',desc:'äº’è”ç½‘å¤§å‚èšé›†ã€‚è·å¾—Â¥200åŠ ç­è´¹ã€‚'},
'feieling':{n:'é£é¹…å²­',x:270,y:489,ev:'nothing',desc:'é£ç¥æ±½è½¦åŸã€‚'},'huaduziche':{n:'èŠ±éƒ½æ±½è½¦åŸ',x:335,y:495,ev:'nothing',desc:'åˆæ˜¯æ±½è½¦åŸã€‚'},'guangzhoubei':{n:'å¹¿å·åŒ—ç«™',x:389,y:486,t:true,ev:'transport',desc:'ä¸å¦‚å—ç«™å¤§ï¼Œä½†äººå°‘ã€‚'},'huachenglu':{n:'èŠ±åŸè·¯',x:461,y:458,ev:'nothing',desc:'èŠ±éƒ½è€åŸåŒºã€‚'},'huaguoshan':{n:'èŠ±æœå±±å…¬å›­',x:497,y:414,ev:'money_get_50',desc:'æ²¡æœ‰çŒ´å­ï¼Œä½†é£æ™¯ä¸é”™(Â¥50)ã€‚'},'huaduguang':{n:'èŠ±éƒ½å¹¿åœº',x:606,y:408,ev:'gov',desc:'èŠ±éƒ½åŒºåºœã€‚è·å¾—æœºä¼šå¡ã€‚'},'maanshan':{n:'é©¬éå±±å…¬å›­',x:689,y:393,ev:'money_get_50',desc:'çˆ¬å±±è¿åŠ¨(Â¥50)ã€‚'},'liantang':{n:'è²å¡˜',x:774,y:439,ev:'money_lose_50',desc:'åƒèŠ±éƒ½ç¾é£Ÿ(Â¥50)ã€‚'},'qingbu':{n:'æ¸…å¸ƒ',x:821,y:486,ev:'nothing',desc:'ç¦»æœºåœºå¾ˆè¿‘äº†ã€‚'},'qingtang':{n:'æ¸…å¡˜',x:859,y:535,ev:'nothing',desc:'æ›¾æ˜¯ä¸ªå¹½çµç«™ã€‚'},
'huawei':{n:'èŠ±å›´',x:624,y:1743,ev:'nothing',desc:'èŠ±å‰äº¤æ˜“å¸‚åœºå‘¨è¾¹ã€‚'},'dongsha':{n:'ä¸œæ²™',x:684,y:1737,ev:'nothing',desc:'ä¸œæ²™æ¸¯é™„è¿‘ã€‚'},'daganwei':{n:'å¤§å¹²å›´',x:733,y:1740,ev:'nothing',desc:'æ±Ÿè¾¹æ•£æ­¥ã€‚'},'gongyedadaonan':{n:'å·¥ä¸šå¤§é“å—',x:815,y:1734,ev:'money_lose_100',desc:'è€å·¥ä¸šåŒºæ”¹é€ ï¼Œè·¯å†µå¤æ‚åˆ®åˆ°åº•ç›˜ã€‚æŸå¤±Â¥100ã€‚'},'wufeng':{n:'äº”å‡¤',x:955,y:1688,t:true,ev:'nothing',desc:'å¸ƒåŒ¹è¾…æ–™å¸‚åœºï¼Œäººè½¦æ··æ‚ã€‚'},'zhongdananmen':{n:'ä¸­å¤§å—é—¨',x:955,y:1632,ev:'card_get',desc:'ä¸­å±±å¤§å­¦ï¼Œå­¦æœ¯æ°›å›´æµ“åšã€‚è·å¾—æœºä¼šå¡ã€‚'},'binjiangdong':{n:'æ»¨æ±Ÿä¸œè·¯',x:950,y:1532,ev:'money_get_100',desc:'ä¸€çº¿æ±Ÿæ™¯è±ªå®…åŒºï¼Œå¿ƒæƒ…èˆ’ç•…(Â¥100)ã€‚'},'yangjidong':{n:'æ¨ç®•ä¸œ',x:1030,y:1358,ev:'nothing',desc:'æ¢…ä¸œè·¯é™„è¿‘ã€‚'},
'chisha':{n:'èµ¤æ²™',x:1330,y:1629,t:true,ev:'nothing',desc:'è½¦è¾†æ®µä¸Šç›–ã€‚'},'tianhepark':{n:'å¤©æ²³å…¬å›­',x:1400,y:1284,t:true,ev:'stop_1',desc:'è¯¯å…¥ç›¸äº²è§’ï¼Œè¢«å¤§çˆ·å¤§å¦ˆå›´è§‚ã€‚æš‚åœä¸€å›åˆã€‚'},'huajinglu':{n:'åæ™¯è·¯',x:1363,y:1240,ev:'stop_1',desc:'BRTå µè½¦ä¸¥é‡ã€‚æš‚åœä¸€å›åˆã€‚'},'longkouxi':{n:'é¾™å£è¥¿',x:1239,y:1153,ev:'money_lose_50',desc:'å²—é¡¶ç¾é£Ÿåœˆ(Â¥50)ã€‚'},'yuntai':{n:'äº‘å°èŠ±å›­',x:963,y:1150,ev:'move_f_1',desc:'ç™½äº‘å±±è„šèµèŠ±ã€‚å‰è¿›1æ­¥ã€‚'},'dajinzhong':{n:'å¤§é‡‘é’Ÿè·¯',x:898,y:1153,ev:'nothing',desc:'ç™½äº‘å±±è¾¹ã€‚'},'zhongyiyao':{n:'ä¸­åŒ»è¯å¤§å­¦',x:833,y:1153,ev:'money_get_100',desc:'å…»ç”Ÿä¹‹é“ã€‚æ¢å¤ä½“åŠ›(Â¥100)ã€‚'},'ziyuangang':{n:'æ¢“å…ƒå²—',x:751,y:1153,ev:'money_lose_200',desc:'çš®å…·åŸå•†åœˆä¹°åŒ…ã€‚æ¶ˆè´¹Â¥200ã€‚'},'liuhua':{n:'æµèŠ±è·¯',x:629,y:1188,ev:'money_lose_200',desc:'æœè£…æ‰¹å‘å¸‚åœºè¿›è´§ã€‚æ¶ˆè´¹Â¥200ã€‚'},'shiweitang':{n:'çŸ³å›´å¡˜',x:513,y:1479,ev:'money_get_100',desc:'ç™¾å¹´ç«è½¦ç«™ï¼Œå»èŒ¶å¶å¸‚åœºå–èŒ¶ã€‚èŠ±è´¹Â¥100ã€‚'},'dachongkou':{n:'å¤§å†²å£',x:590,y:1619,ev:'nothing',desc:'èŠ³æ‘å±…ä½åŒºã€‚'},'shayong':{n:'æ²™æ¶Œ',x:616,y:1669,t:true,ev:'nothing',desc:'æ¢ä¹˜å¹¿ä½›çº¿ã€‚'},'hedongdong':{n:'é¹¤æ´ä¸œ',x:663,y:1684,ev:'nothing',desc:'å¹¿é’¢é—å€ã€‚'},'diyuan':{n:'æ££å›­',x:715,y:1684,ev:'nothing',desc:'å—ç®•è·¯é™„è¿‘ã€‚'},'yangang':{n:'ç‡•å²—',x:746,y:1684,t:true,ev:'money_get_50',desc:'ç‡•å­å²—ä½“è‚²åœºè¿åŠ¨ä¸€ä¸‹(Â¥50)ã€‚'},'yijinglu':{n:'é€¸æ™¯è·¯',x:1014,y:1691,ev:'stop_1',desc:'åˆæ˜¯ä¸­å¤§å¸ƒåŒ¹å•†åœˆã€‚æ‹¥æŒ¤ï¼Œæš‚åœä¸€å›åˆã€‚'},'shangyong':{n:'ä¸Šæ¶Œ',x:1082,y:1678,ev:'nothing',desc:'æœæ ‘å…¬å›­ã€‚'},'longtan':{n:'é¾™æ½­',x:1257,y:1694,t:true,ev:'interchange',desc:'æ¢ä¹˜18å·çº¿ï¼Œé€Ÿåº¦èµ·é£ã€‚'},
'xunfenggangbei':{n:'æµ”å³°å²—åŒ—',x:433,y:1032,ev:'nothing',desc:'é‡‘æ²™æ´²åŒ—éƒ¨ã€‚'},'xizhou':{n:'è¥¿æ´²',x:500,y:1007,ev:'nothing',desc:'ç™½äº‘åŒºè¥¿éƒ¨ã€‚'},'guangzhoubaiyun':{n:'å¹¿å·ç™½äº‘ç«™',x:650,y:945,t:true,ev:'transport',desc:'è¶…çº§æ¢çº½ï¼Œä¹Ÿæ˜¯è¿·å®«ã€‚'},'tangyong':{n:'æ£ æ¶Œ',x:720,y:902,ev:'nothing',desc:'æ£ æºªæ‘ã€‚'},'xinshixu':{n:'æ–°å¸‚å¢Ÿ',x:766,y:939,t:true,ev:'nothing',desc:'ç™¾ä¿¡å¹¿åœºäººæ½®æ±¹æ¶Œã€‚'},'guangzhoutiyuguan':{n:'å¹¿å·ä½“è‚²é¦†',x:839,y:1054,ev:'money_lose_200',desc:'çœ‹æ˜æ˜Ÿæ¼”å”±ä¼šï¼Œé—¨ç¥¨Â¥200ã€‚'},'ershadao':{n:'äºŒæ²™å²›',x:978,y:1486,ev:'money_get_100',desc:'å…¨å¹¿å·æœ€å¯Œçš„åœ°æ–¹ã€‚åœ¨è‰åªå¬éŸ³ä¹ä¼šï¼Œå¥–åŠ±Â¥100ã€‚'},'chigangta':{n:'èµ¤å²—å¡”',x:1141,y:1532,ev:'nothing',desc:'ä»°æœ›å¹¿å·å¡”ã€‚'},'chishabei':{n:'èµ¤æ²™åŒ—',x:1275,y:1629,ev:'nothing',desc:'ä¼šå±•ä¸­å¿ƒå—é¢ã€‚'},'beishan':{n:'åŒ—å±±',x:1462,y:1688,ev:'nothing',desc:'åŸä¸­æ‘ç¾é£Ÿã€‚'},
'tangxia':{n:'æ£ ä¸‹',x:1495,y:1296,ev:'money_get_100',desc:'å¾ˆå¤šæ‰“å·¥äººçš„ç¬¬ä¸€ç«™ã€‚æˆ¿ç§Ÿä¾¿å®œÂ¥100ã€‚'},'tianhezhucun':{n:'å¤©æ²³ç æ‘',x:1637,y:1346,ev:'money_get_50',desc:'ä¹å·§æ–‡åŒ–èŠ‚(Â¥50)ã€‚'},'shuanggang':{n:'åŒå²—',x:1852,y:1597,ev:'nothing',desc:'é»„åŸ”å±…ä½åŒºã€‚'},'nanhai':{n:'å—æµ·ç¥åº™',x:1914,y:1638,ev:'card_get',desc:'æ³¢ç½—è¯åº™ä¼šï¼Œæ±‚ä¸ªä¸Šä¸Šç­¾ã€‚è·å¾—æœºä¼šå¡ã€‚'},'nanagang':{n:'å—å²—',x:2046,y:1489,ev:'money_lose_200',desc:'ä¸‡è¾¾å¹¿åœºè´­ç‰©ã€‚æ¶ˆè´¹Â¥200ã€‚'},'shacun':{n:'æ²™æ‘',x:2105,y:1414,ev:'nothing',desc:'å‡¤å‡°åŸå¤§ç¤¾åŒºã€‚'},'baijiang':{n:'ç™½æ±Ÿ',x:2173,y:1349,ev:'nothing',desc:'æ–°å¡˜å¤§é“ã€‚'},'xintang':{n:'æ–°å¡˜',x:2229,y:1281,ev:'money_lose_50',desc:'ç‰›ä»”è£¤ä¹‹éƒ½ï¼Œä¹°æ¡è£¤å­Â¥50ã€‚'},'guanhu':{n:'å®˜æ¹–',x:2307,y:1256,ev:'nothing',desc:'è½¦è¾†æ®µã€‚'},'xinsha':{n:'æ–°æ²™',x:2364,y:1256,ev:'end',desc:'13å·çº¿ç»ˆç‚¹ã€‚'},
'lejialu':{n:'ä¹å˜‰è·¯',x:691,y:1029,ev:'nothing',desc:'æ—§æœºåœºè·¯ã€‚'},'yunxiaolu':{n:'äº‘éœ„è·¯',x:733,y:995,ev:'money_lose_200',desc:'åœæœºåªè´­ç‰©å¹¿åœºã€‚æ¶ˆè´¹Â¥200ã€‚'},'mawu':{n:'é©¬åŠ¡',x:797,y:908,ev:'nothing',desc:'åˆ›æ„å›­ã€‚'},'hebian':{n:'é¹¤è¾¹',x:833,y:871,ev:'money_lose_100',desc:'æ³•åŠ¡åŒºå’¨è¯¢ã€‚èŠ±è´¹Â¥100ã€‚'},'helong':{n:'é¹¤é¾™',x:864,y:827,ev:'nothing',desc:'106å›½é“ã€‚'},'pengbian':{n:'å½­è¾¹',x:895,y:787,ev:'nothing',desc:'è®¾è®¡ä¹‹éƒ½ã€‚'},'baiyundongping':{n:'ç™½äº‘ä¸œå¹³',x:1095,y:765,ev:'nothing',desc:'ä¸œå¹³æ‘ã€‚'},'xialiang':{n:'å¤è‰¯',x:1203,y:759,ev:'interchange',desc:'é¾™å½’åŸã€‚'},'taihe':{n:'å¤ªå’Œ',x:1327,y:681,ev:'money_get_50',desc:'å¤ªå’Œçƒ§é¸¡ï¼Œç¾å‘³ï¼æ¢å¤ä½“åŠ›(Â¥50)ã€‚'},'zhuliao':{n:'ç«¹æ–™',x:1410,y:594,ev:'nothing',desc:'æ¯”è¾ƒåè¿œã€‚'},'zhongluotan':{n:'é’Ÿè½æ½­',x:1467,y:501,ev:'card_get',desc:'èŒæ•™åŸï¼Œå¥½å¤šå­¦æ ¡ã€‚è·å¾—æœºä¼šå¡ã€‚'},'mali':{n:'é©¬æ²¥',x:1518,y:442,ev:'nothing',desc:'è¿™é‡Œä¹Ÿæœ‰å­¦æ ¡ã€‚'},'xinhe':{n:'æ–°å’Œ',x:1581,y:368,t:true,ev:'interchange',desc:'æ¢ä¹˜çŸ¥è¯†åŸçº¿ã€‚'},'taiping':{n:'å¤ªå¹³',x:1637,y:306,ev:'nothing',desc:'åŒ—å›å½’çº¿å¡”ã€‚'},'shengang':{n:'ç¥å²—',x:1676,y:253,ev:'nothing',desc:'ç¥å²—å¢Ÿã€‚'},'chicao':{n:'èµ¤è‰',x:1720,y:206,ev:'nothing',desc:'é€¸æ³‰å±±åº„ã€‚'},'conghuakeyun':{n:'ä»åŒ–å®¢è¿ç«™',x:1764,y:160,ev:'stop_1',desc:'å¿«åˆ°æ¸©æ³‰é•‡äº†ï¼Œæ³¡æ¸©æ³‰å»ã€‚æš‚åœä¸€å›åˆäº«å—ã€‚'},'dongfeng':{n:'ä¸œé£',x:1803,y:104,ev:'end',desc:'å¹¿å·æœ€åŒ—çš„åœ°é“ç«™ã€‚'},
'hongwei':{n:'çº¢å«',x:1738,y:386,ev:'nothing',desc:'ç”±äºåè¿œï¼Œå‘¨å›´å…¨æ˜¯å·¥å‚ã€‚'},'xinnan':{n:'æ–°å—',x:1774,y:439,ev:'interchange',desc:'æ¢ä¹˜ç©—èæ·±åŸé™…ã€‚'},'fengxia':{n:'æ«ä¸‹',x:1805,y:476,ev:'nothing',desc:'æ‘è½ã€‚'},'zhishicheng':{n:'çŸ¥è¯†åŸ',x:1842,y:514,ev:'card_get',desc:'ä¸­æ–°çŸ¥è¯†åŸã€‚é«˜ç§‘æŠ€ä¼ä¸šé¢è¯•ã€‚è·å¾—æœºä¼šå¡ã€‚'},'hetangxia':{n:'ä½•æ£ ä¸‹',x:1878,y:554,ev:'nothing',desc:'å¤§å‹å±…ä½åŒºã€‚'},'wangcun':{n:'æ—ºæ‘',x:1901,y:604,ev:'money_get_100',desc:'ç§‘æŠ€å›­é¢è¯•æˆåŠŸã€‚è·å¾—Â¥100ã€‚'},'tangcun':{n:'æ±¤æ‘',x:1937,y:632,ev:'nothing',desc:'å•†å­¦é™¢ã€‚'},'zhenlongbei':{n:'é•‡é¾™åŒ—',x:1979,y:681,ev:'nothing',desc:'è½¦è¾†æ®µã€‚'},'zhenlong':{n:'é•‡é¾™',x:2074,y:684,t:true,ev:'interchange',desc:'æ¢ä¹˜21å·çº¿ã€‚'},
'wanqingsha':{n:'ä¸‡é¡·æ²™',x:1860,y:2393,ev:'end',desc:'å¹¿å·æœ€å—ç«¯ã€‚åƒä¸ªå—æ²™é¦™è•‰ã€‚'},'hengli':{n:'æ¨ªæ²¥',x:1650,y:2287,ev:'money_get_500',desc:'çœ‹ç€åƒè’åœ°ï¼Œå…¶å®æ˜¯æœªæ¥çš„é‡‘èå²›ã€‚æŠ•èµ„åœ°äº§ï¼Œå¥–åŠ±Â¥500ã€‚'},'shaxi':{n:'æ²™æºª',x:1278,y:1846,ev:'money_lose_200',desc:'ä¹°é…’åº—ç”¨å“ã€‚æ¶ˆè´¹Â¥200ã€‚'},'xiancun':{n:'å†¼æ‘',x:1247,y:1306,ev:'money_get_200',desc:'åœŸè±ªæ‘ã€‚å‘¨å›´å…¨æ˜¯å·¥åœ°ï¼Œä½†å¾ˆæœ‰é’±(Â¥200)ã€‚'},
'tangdong':{n:'æ£ ä¸œ',x:1490,y:1240,ev:'rent',desc:'åŸä¸­æ‘ï¼Œæ‰“å·¥äººèšé›†åœ°ã€‚æˆ¿ç§ŸÂ¥200ã€‚'},'daguannan':{n:'å¤§è§‚å—è·¯',x:1583,y:1175,ev:'nothing',desc:'è·¯è¾¹å…¨æ˜¯å–è½¦çš„ã€‚'},'tianhezhineng':{n:'å¤©æ²³æ™ºæ…§åŸ',x:1583,y:1085,ev:'money_get_50',desc:'ç½‘æ˜“æ€»éƒ¨ã€‚æŠ“ä¸ªç—’ç—’é¼ (Â¥50)ã€‚'},'shenzhou':{n:'ç¥èˆŸè·¯',x:1632,y:1035,ev:'nothing',desc:'ç§‘æŠ€å›­ã€‚'},'kexuecheng':{n:'ç§‘å­¦åŸ',x:1699,y:1032,ev:'stop_1',desc:'ä¸–ç•Œ500å¼ºèšé›†ã€‚åŠ ç­ä¸€å›åˆã€‚'},'changping':{n:'é•¿å¹³',x:1847,y:905,ev:'nothing',desc:'æœ‰è½¨ç”µè½¦æ¢ä¹˜ã€‚'},'jinkeng':{n:'é‡‘å‘',x:1914,y:812,ev:'money_get_50',desc:'è¿™é‡Œæœ‰ä¸ªç–—å…»é™¢ã€‚æ¢å¤ä½“åŠ›(Â¥50)ã€‚'},'zhenlongxi':{n:'é•‡é¾™è¥¿',x:1981,y:734,ev:'nothing',desc:'è·¯è¿‡ã€‚'},'zhonggang':{n:'ä¸­æ–°',x:2118,y:691,ev:'nothing',desc:'ä¸­æ–°çŸ¥è¯†åŸå—å¤§é—¨ã€‚'},'kengbei':{n:'å‘è´',x:2167,y:694,ev:'nothing',desc:'å¤æ‘è½ã€‚'},'fenggang':{n:'å‡¤å²—',x:2206,y:688,ev:'nothing',desc:'æœ±æ‘ç§‘æ•™åŸã€‚'},'zhucun':{n:'æœ±æ‘',x:2255,y:697,ev:'money_get_50',desc:'åƒè‘—åçš„æœ±æ‘é¸¡é¥­ã€‚æ¢å¤ä½“åŠ›(Â¥50)ã€‚'},'shantian':{n:'å±±ç”°',x:2307,y:697,ev:'nothing',desc:'è¿™é‡Œä»¥å‰å«è±¡å²­ã€‚'},'zhonggang21':{n:'é’Ÿå²—',x:2353,y:697,ev:'nothing',desc:'å¿«åˆ°ç»ˆç‚¹äº†ã€‚'},'zengcheng':{n:'å¢åŸå¹¿åœº',x:2408,y:700,ev:'money_get_1000',desc:'å¢åŸæŒ‚ç»¿è”æï¼ä¸€é¢—æ‹å–å‡ åä¸‡ã€‚è·å¾—å·¨é¢èµ„é‡‘Â¥1000ã€‚'},
'nanjiao':{n:'å—æ¼–',x:609,y:1799,ev:'nothing',desc:'èˆ¹å‚é™„è¿‘ã€‚'},'nanpu_22':{n:'å—æµ¦è¥¿',x:663,y:1871,ev:'nothing',desc:'è¿˜æ²¡å¼€å‘å¥½ã€‚'},'chentougang':{n:'é™ˆå¤´å²—',x:715,y:1924,ev:'nothing',desc:'è½¦è¾†æ®µä¸Šç›–ã€‚'},'shiguanglu':{n:'å¸‚å¹¿è·¯',x:1177,y:2001,ev:'nothing',desc:'ç¥ˆç¦æ–°æ‘ï¼Œä¸­å›½ç¬¬ä¸€é‚¨ã€‚'},
'haixinsha':{n:'æµ·å¿ƒæ²™',x:1195,y:1445,ev:'money_get_100',desc:'äºšè¿å¼€å¹•å¼åœºé¦†ã€‚'},'opera':{n:'å¤§å‰§é™¢',x:1195,y:1414,ev:'money_lose_200',desc:'çœ‹ä¸€åœºæ­Œå‰§ï¼Œé™¶å†¶æƒ…æ“ã€‚èŠ±è´¹Â¥200ã€‚'},'huacheng':{n:'èŠ±åŸå¤§é“',x:1195,y:1374,ev:'money_get_1000',desc:'CBDæ ¸å¿ƒåŒºã€‚ä¸Šç­é¢†å·¥èµ„Â¥1000ã€‚'},'women':{n:'å¦‡å„¿ä¸­å¿ƒ',x:1195,y:1337,ev:'nothing',desc:'å¸¦å¨ƒçœ‹ç—…ã€‚'},'huangpu':{n:'é»„åŸ”å¤§é“',x:1195,y:1306,ev:'nothing',desc:'åœ°ä¸‹ç©ºé—´å¾ˆå¤§ã€‚'},'tianhenan':{n:'å¤©æ²³å—',x:1195,y:1271,ev:'money_lose_500',desc:'å¤©ç¯å¹¿åœºã€‚ä¹°äº†å°iPhoneï¼ŒèŠ±è´¹Â¥500ã€‚'},'tiyuzhongxin_s':{n:'ä½“è‚²ä¸­å¿ƒå—',x:1198,y:1234,ev:'money_get_50',desc:'å¤©æ²³ä½“è‚²ä¸­å¿ƒã€‚å¥–åŠ±50.'},
'xinchengdong':{n:'æ–°åŸä¸œ',x:474,y:2113,ev:'start',desc:'ä½›å±±æ–°åŸã€‚ä¸–çºªè²ä½“è‚²é¦†ã€‚'},'dongping':{n:'ä¸œå¹³',x:409,y:2119,t:true,ev:'interchange',desc:'æ¢ä¹˜ä½›å±±3å·çº¿ã€‚'},'shijilian':{n:'ä¸–çºªè²',x:329,y:2116,ev:'money_lose_200',desc:'çœ‹æ¼”å”±ä¼šï¼Œé—¨ç¥¨Â¥200ã€‚'},'lanshi':{n:'æ¾œçŸ³',x:288,y:2073,ev:'nothing',desc:'ä¸é”ˆé’¢äº¤æ˜“ä¸­å¿ƒã€‚'},'kuiqilu':{n:'é­å¥‡è·¯',x:298,y:2017,t:true,ev:'interchange',desc:'æ¢ä¹˜ä½›å±±2å·çº¿ã€‚'},'jihuayuan':{n:'å­£åå›­',x:296,y:1964,ev:'money_get_50',desc:'å­£åå…¬å›­æ•£æ­¥(Â¥50)ã€‚'},'tongji':{n:'åŒæµè·¯',x:298,y:1920,ev:'money_get_100',desc:'è¡Œé€šæµï¼Œå†‡é—­ç¿³ã€‚è·å¾—å¥½è¿Buff(Â¥100)ã€‚'},'zumiao':{n:'ç¥–åº™',x:296,y:1868,ev:'money_get_100',desc:'çœ‹é»„é£é¸¿é†’ç‹®è¡¨æ¼”ï¼ŒåƒåŒçš®å¥¶ã€‚å¥–åŠ±Â¥100ã€‚'},'pujunbei':{n:'æ™®å›åŒ—è·¯',x:345,y:1855,ev:'nothing',desc:'ä½›å±±è€åŸåŒºã€‚'},'chaoan':{n:'æœå®‰',x:381,y:1865,ev:'money_lose_100',desc:'ä¹°ç«¥è£…èŠ±è´¹Â¥100ã€‚'},'guicheng':{n:'æ¡‚åŸ',x:425,y:1868,t:true,ev:'money_lose_200',desc:'å‡¯å¾·å¹¿åœºè´­ç‰©ã€‚æ¶ˆè´¹Â¥200ã€‚'},'nangui':{n:'å—æ¡‚è·¯',x:430,y:1827,ev:'nothing',desc:'å¾ˆå¤šæ¥¼ç›˜ã€‚'},'leigang':{n:'ç¤Œå²—',x:430,y:1790,t:true,ev:'money_get_50',desc:'çˆ¬è™«é›·å²—å±±(Â¥50)ã€‚'},'qiandenghu':{n:'åƒç¯æ¹–',x:430,y:1747,ev:'stop_1',desc:'æ™šä¸Šæ™¯è‰²å¾ˆç¾ã€‚æš‚åœä¸€å›åˆæ‹ç…§ã€‚'},'jinrong':{n:'é‡‘èé«˜æ–°åŒº',x:433,y:1700,ev:'money_lose_200',desc:'ä¸‡è¾¾å¹¿åœºè´­ç‰©(Â¥200)ã€‚'},'longxi':{n:'é¾™æºª',x:474,y:1706,ev:'nothing',desc:'èŠ±å‰åšè§ˆå›­ã€‚'},'jushu':{n:'èŠæ ‘',x:518,y:1706,ev:'nothing',desc:'è¿™é‡Œä¹Ÿå–èŠ±ã€‚'},'hedong':{n:'é¹¤æ´',x:606,y:1715,ev:'nothing',desc:'å¹¿é’¢æ–°åŸã€‚'},'shixi':{n:'çŸ³æºª',x:771,y:1728,t:true,ev:'nothing',desc:'ä»¥å‰å¾ˆå¤šå°åˆ·å‚ã€‚'}
};
const LINE_DEFS={1:['xilang','kengkou','huadiwan','fangcun','huangsha','changshoulu','chenjiaci','ximenkou','gongyuanqian','nongjiangsuo','martyrs','dongshankou','yangji','tiyuxilu','tiyuzhongxin','guangzhoudong'],2:['jiahewanggang','huangbian','jiangxia','xiaogang','baiyuncal','baiyunpark','feixiang','sanyuanli','guangzhouhuo','yuexiupark','jiniantang','gongyuanqian','haizhu','shiergong','jiangnanxi','changgang','jiangtai','dongxiaonan','nanzhou','luoxi','nanpu','huijiang','shibi','guangzhounan'],3:['jichangbei','jichangnan','gaozeng','renhe','longgui','jiahewanggang','baiyundadao','yongtai','tonghe','jingxi','meihuayuan','yantang','guangzhoudong','linhexi','tiyuxilu','zhujiang','guangzhouta','kecun','datang','lijiao','xiajiao','dashi','hanxi','shiqiao','panyu','bangjiang','shiqinan','haiyonglu','haibang'],'3z':['tianhekeyun','wushan','huashi','gangding','shipaiqiao','tiyuxilu'],4:['nansha_keyun','nanheng','tangkeng','dashan','guanglong','feishajiao','jinzhou','jiaomen','huangge','huanggechuan','qingsheng','dongchong','dichong','haibang','shiqi','guanqiao','xinzao','daxuecheng_nan','daxuecheng_bei','guanzhou','wanshengwei','chebeinan','chebei','huangcun'],5:['jiaokou','tanwei','zhongshanba','xichang','xicun','guangzhouhuo','xiaobei','taojin','quzhuang','dongwuyuan','yangji','wuyangcun','zhujiang','liede','tancun','yuancun','keyunlu','chebeinan','dongpu','sanxi','yuzhu','dashadi','dashadong','wenchong','shuangsha','miaotou','xiayuan','baoying','xiagang','huangpuxingang'],6:['xunfenggang','hengsha','shabei','hesha','tanwei','ruyifang','huangsha','wenhuagongyuan','yide','haizhu','beijinglu','tuanyida','donghu','dongshankou','quzhuang','huanghuagang','shaheding','shahe','tianpingjia','yantang','tianhekeyun','changban','zhiwuyuan','longdong','kemulang','gaotangshi','huangpei','jinfeng','xiangang','suyuan','luogang','xiangxue'],7:['meididadao','beijiao','midea','nanchong','jinlong','chencun','chencunbei','dazhou','guangzhounan','shibi','xiecun','zhongcun','hanxi','nancun','yuangang','banqiao','daxuecheng_nan','shenjing','changzhou','yufengwei','dashadong','jizhang','jiazhuang','kefenglu','luogang','shuixi','yanshan'],8:['jiaoxin','tinggang','shijing','xiaoping','shitan','julong','shangbu','tongde','ezhangtan','xicun','caihongqiao','chenjiaci','hualinsi','wenhuagongyuan','tongfuxi','fenghuang','shayuan','baogang','changgang','xiaogang8','zhongda','lujiang','kecun','chigang','modiesha','xingangdong','pazhou','wanshengwei'],9:['feieling','huaduziche','guangzhoubei','huachenglu','huaguoshan','huaduguang','maanshan','liantang','qingbu','qingtang','gaozeng'],10:['xilang','huawei','dongsha','daganwei','gongyedadaonan','dongxiaonan','wufeng','zhongdananmen','binjiangdong','donghu','wuyangcun','yangjidong'],11:['chisha','pazhou','yuancun','tianhepark','huajinglu','huashi','longkouxi','guangzhoudong','shahe','yuntai','dajinzhong','zhongyiyao','ziyuangang','guangzhouhuo','liuhua','caihongqiao','zhongshanba','ruyifang','shiweitang','fangcun','dachongkou','shayong','hedongdong','diyuan','yangang','jiangtai','wufeng','yijinglu','shangyong','datang','longtan','chisha'],12:['xunfenggang','xunfenggangbei','xizhou','julong','guangzhoubaiyun','tangyong','xinshixu','baiyuncal','guangzhoutiyuguan'],'12s':['ershadao','chigangta','chigang','chishabei','chisha','beishan','guanzhou','daxuecheng_bei','daxuecheng_nan'],13:['tianhepark','tangxia','chebei','tianhezhucun','yuzhu','yufengwei','shuanggang','nanhai','xiayuan','nanagang','shacun','baijiang','xintang','guanhu','xinsha'],14:['lejialu','yunxiaolu','xinshixu','mawu','hebian','helong','pengbian','jiahewanggang','baiyundongping','xialiang','taihe','zhuliao','zhongluotan','mali','xinhe','taiping','shengang','chicao','conghuakeyun','dongfeng'],'14z':['xinhe','hongwei','xinnan','fengxia','zhishicheng','hetangxia','wangcun','tangcun','zhenlongbei','zhenlong'],18:['wanqingsha','hengli','panyu','nancun','shaxi','longtan','modiesha','xiancun'],21:['tianhepark','tangdong','huangcun','daguannan','tianhezhineng','shenzhou','kexuecheng','suyuan','shuixi','changping','jinkeng','zhenlongxi','zhenlong','zhonggang','kengbei','fenggang','zhucun','shantian','zhonggang21','zengcheng'],22:['fangcun','xilang','nanjiao','nanpu_22','chentougang','guangzhounan','shiguanglu','panyu'],'apm':['guangzhouta','haixinsha','opera','huacheng','women','huangpu','tianhenan','tiyuzhongxin_s','linhexi'],'gf':['xinchengdong','dongping','shijilian','lanshi','kuiqilu','jihuayuan','tongji','zumiao','pujunbei','chaoan','guicheng','nangui','leigang','qiandenghu','jinrong','longxi','jushu','xilang','hedong','shayong','shayuan','yangang','shixi','nanzhou','lijiao']};
const ROLES=[{id:'landlord',n:'åŒ…ç§Ÿå…¬',c:'#FFD700',d:'åŸä¸­æ‘(å®¢æ‘/å¤§å¡˜)æ”¶ç§Ÿç¿»å€'},{id:'worker',n:'CBDç™½é¢†',c:'#00BFFF',d:'ç»è¿‡ç æ±Ÿæ–°åŸè·å¾—å¥–é‡‘'},{id:'local',n:'è¥¿å…³å°‘çˆ·',c:'#FF69B4',d:'è€åŸåŒº(1å·çº¿)äº‹ä»¶å¥–åŠ±é«˜'},{id:'student',n:'ç‰¹ç§å…µ',c:'#32CD32',d:'ä½“åŠ›æ— é™ï¼Œå…ç–«æš‚åœ'}];
const START_SPOTS=[{id:'xilang',n:'è¥¿å¡±(1)',c:'#f3d03e'},{id:'jiahewanggang',n:'å˜‰ç¦¾æœ›å²—(2)',c:'#006c9d'},{id:'jichangbei',n:'æœºåœºåŒ—(3)',c:'#f7941d'},{id:'tianhekeyun',n:'å¤©æ²³å®¢è¿ç«™(3Z)',c:'#f7941d'},{id:'nansha_keyun',n:'å—æ²™å®¢è¿æ¸¯(4)',c:'#00863f'},{id:'jiaokou',n:'æ»˜å£(5)',c:'#c5003e'},{id:'xunfenggang',n:'æµ”å³°å²—(6)',c:'#833178'},{id:'meididadao',n:'ç¾çš„å¤§é“(7)',c:'#9fb62d'},{id:'jiaoxin',n:'æ»˜å¿ƒ(8)',c:'#008583'},{id:'feieling',n:'é£é¹…å²­(9)',c:'#78c694'},{id:'xilang',n:'è¥¿å¡±(10)',c:'#7d9bc1'},{id:'chisha',n:'èµ¤æ²™(11)',c:'#482684'},{id:'xunfenggang',n:'æµ”å³°å²—(12)',c:'#77892b'},{id:'ershadao',n:'äºŒæ²™å²›(12S)',c:'#77892b'},{id:'tianhepark',n:'å¤©æ²³å…¬å›­(13)',c:'#8e8c13'},{id:'lejialu',n:'ä¹å˜‰è·¯(14)',c:'#81312f'},{id:'xinhe',n:'æ–°å’Œ(14Z)',c:'#81312f'},{id:'wanqingsha',n:'ä¸‡é¡·æ²™(18)',c:'#004a98'},{id:'tianhepark',n:'å¤©æ²³å…¬å›­(21)',c:'#2f2e78'},{id:'fangcun',n:'èŠ³æ‘(22)',c:'#d65636'},{id:'guangzhouta',n:'å¹¿å·å¡”(APM)',c:'#00b5e2'},{id:'xinchengdong',n:'æ–°åŸä¸œ(GF)',c:'#c3cc17'}];
const CHANCE_CARDS=[{title:"ğŸš‡ ç¾ŠåŸé€šå……å€¼",content:"ä½™é¢å……è¶³ï¼Œå¿ƒæƒ…å¤§å¥½ï¼",money:300,move:0,stop:0},{title:"ğŸŒ§ï¸ çªé™æš´é›¨",content:"åœ¨ä¾¿åˆ©åº—ä¹°äº†æŠŠä¼ï¼ŒèŠ±è´¹å·¨èµ„ã€‚",money:-100,move:0,stop:0},{title:"ğŸ‘® é€ƒç¥¨è¢«æŠ“",content:"è¢«å·¥ä½œäººå‘˜å½“åœºæ‹¿ä¸‹ï¼è¡¥ç¥¨åŠ ç½šæ¬¾ã€‚",money:-200,move:0,stop:0},{title:"ğŸš€ é¡ºé£è½¦",content:"æ­ä¸Šäº†æœ«ç­è½¦ï¼Œå†å‰è¿›2æ­¥ï¼",money:0,move:2,stop:0},{title:"ğŸ˜´ ç¡è¿‡å¤´",content:"åè¿‡ç«™äº†... åé€€1æ­¥ã€‚",money:0,move:-1,stop:0},{title:"ğŸ¥ è‚ èƒƒä¸é€‚",content:"è·¯è¾¹æ‘Šåƒåè‚šå­ï¼ŒåŸåœ°ä¼‘æ¯ã€‚",money:0,move:0,stop:1}];

// ============================================================
// éŸ³æ•ˆä¸é€»è¾‘
// ============================================================
const SFX = {
    ctx: null,
    init() { if(!this.ctx) this.ctx = new (window.AudioContext || window.webkitAudioContext)(); },
    play(type) {
        this.init(); const osc = this.ctx.createOscillator(); const gain = this.ctx.createGain();
        osc.connect(gain); gain.connect(this.ctx.destination); const now = this.ctx.currentTime;
        if(type === 'tick') {
            osc.frequency.setValueAtTime(880, now); gain.gain.setValueAtTime(0.1, now);
            gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1); osc.start(); osc.stop(now + 0.1);
        } else if(type === 'dice') {
            osc.type = 'square'; osc.frequency.setValueAtTime(150, now);
            osc.frequency.exponentialRampToValueAtTime(40, now + 0.2); gain.gain.setValueAtTime(0.05, now);
            osc.start(); osc.stop(now + 0.2);
        } else if(type === 'event') {
            osc.type = 'triangle'; osc.frequency.setValueAtTime(440, now);
            osc.frequency.exponentialRampToValueAtTime(880, now + 0.3); gain.gain.setValueAtTime(0.1, now);
            osc.start(); osc.stop(now + 0.3);
        }
    }
};

let ADJACENCY = {};
function buildGraph() {
    ADJACENCY = {};
    for (let line in LINE_DEFS) {
        let stations = LINE_DEFS[line];
        for (let i = 0; i < stations.length; i++) {
            let curr = stations[i]; if (!STATIONS[curr]) continue;
            if (!ADJACENCY[curr]) ADJACENCY[curr] = [];
            if (i > 0) ADJACENCY[curr].push(stations[i - 1]);
            if (i < stations.length - 1) ADJACENCY[curr].push(stations[i + 1]);
        }
    }
    for(let k in ADJACENCY) ADJACENCY[k] = [...new Set(ADJACENCY[k])];
}

let game = {
    totalPlayers: 0, players: [], turn: 0, mode: 'work', target: 'zhujiang', validDestinations: [], pathMap: {}
};

window.onload = () => {
    buildGraph();
    setTimeout(initNetwork, 1000); // å»¶è¿Ÿå¯åŠ¨ç½‘ç»œ
};

function initGameStep1(num) { game.totalPlayers = num; showScreen('screen-mode'); syncGameState(); }
function selectMode(m, el) {
    game.mode = m; game.target = (m==='work') ? 'zhujiang' : null;
    document.querySelectorAll('#screen-mode .select-card').forEach(c => c.classList.remove('selected'));
    el.classList.add('selected');
    syncGameState();
}
function toRoleSelect() { renderRoleSelection(0); showScreen('screen-roles'); syncGameState(); }

function renderRoleSelection(pid) {
    const container = document.getElementById('role-container'); container.innerHTML = '';
    document.getElementById('role-player-name').innerText = `ç©å®¶${pid+1}`;
    ROLES.forEach(role => {
        const isTaken = game.players.some(p => p.role.id === role.id);
        const div = document.createElement('div'); div.className = `select-card ${isTaken ? 'taken' : ''}`;
        if (!isTaken) div.onclick = () => confirmRole(pid, role);
        div.innerHTML = `<h3 style="color:${role.c}; margin:5px 0">${role.n}</h3><p style="font-size:12px; color:#ccc">${role.d}</p>${isTaken ? '<span class="tag">å·²é€‰</span>' : ''}`;
        container.appendChild(div);
    });
}

function confirmRole(pid, role) {
    game.players.push({ id: pid, name: `ç©å®¶${pid+1}`, role: role, color: role.c, sid: null, skip: 0, speedBuff: false, money: 2000, buffs: [], isJailed: false, jailTurns: 0, isBankrupt: false });
    if (pid < game.totalPlayers - 1) renderRoleSelection(pid + 1);
    else initWheel(0);
    syncGameState();
}

function initWheel(pid) {
    showScreen('screen-wheel'); const p = game.players[pid];
    if(!p) return;
    document.getElementById('wheel-player').innerText = p.name; document.getElementById('wheel-player').style.color = p.color;
    document.getElementById('spin-btn').disabled = false; document.getElementById('wheel-result').innerText = '';
    const w = document.getElementById('wheel'); w.innerHTML = '';
    const deg = 360 / START_SPOTS.length;
    START_SPOTS.forEach((s, i) => {
        const d = document.createElement('div'); d.className = 'wheel-sec';
        d.style.transform = `rotate(${i*deg}deg) skewY(-${90-deg}deg)`; d.style.background = s.c;
        d.innerHTML = `<span style="transform: skewY(${90-deg}deg) rotate(${deg/2}deg); display:block; width:100px; text-align:center; padding-top:20px; font-weight:bold; color:white; text-shadow:1px 1px 2px black;">${s.n}</span>`;
        w.appendChild(d);
    });
}

function spinWheel() {
    document.getElementById('spin-btn').disabled = true; const w = document.getElementById('wheel');
    const rot = 1800 + Math.random() * 360; 
    
    const idx = Math.floor((rot % 360) / (360 / START_SPOTS.length));
    const res = START_SPOTS[idx]; 
    
    if(conn && conn.open) {
        conn.send({ type: 'SYNC_WHEEL', rotation: rot, resultName: res.n });
    }
    
    w.style.transform = `rotate(-${rot}deg)`;
    
    setTimeout(() => {
        const pid = game.players.findIndex(p => p.sid === null);
        game.players[pid].sid = res.id; document.getElementById('wheel-result').innerText = `å‡ºå‘: ${res.n}`;
        setTimeout(() => {
            syncGameState();
            if (pid < game.totalPlayers - 1) initWheel(pid + 1);
            else startGame();
        }, 1500);
    }, 3000);
}

function startGame() {
    renderMap(); renderPlayers(); initPlayerCards(); showScreen('screen-game'); updateUI();
    centerCamera(game.players[0].sid);
    syncGameState();
}

function centerCamera(sid) {
    const container = document.getElementById('game-container'); const s = STATIONS[sid]; if(!s) return;
    container.scrollTo({ left: s.x - container.clientWidth / 2, top: s.y - container.clientHeight / 2, behavior: 'smooth' });
}

function initPlayerCards() {
    const row = document.getElementById('players-row'); row.innerHTML = '';
    game.players.forEach((p, idx) => {
        const card = document.createElement('div'); card.className = 'p-card'; card.id = `p-card-${idx}`;
        card.innerHTML = `<div class="p-name" style="color:${p.color}">${p.name}</div><div class="p-money" id="p-money-${idx}">Â¥ 2000</div><div class="p-station" id="p-station-${idx}">...</div><div class="p-status" id="p-status-${idx}"></div>`;
        row.appendChild(card);
    });
}

function rollDice() {
    const p = game.players[game.turn];
    if (p.role.id === 'student') { p.skip = 0; p.isJailed = false; }
    if (p.isJailed) {
        let val = Math.floor(Math.random()*6)+1; document.getElementById('dice-box').innerText = val;
        if (val % 2 === 0) { p.isJailed = false; showModal('å‡ºé™¢', 'åŒæ•°å‡ºé™¢ï¼'); }
        else { p.jailTurns++; showModal('ç»§ç»­æ²»ç–—', 'å•æ•°ï¼Œç»§ç»­åçœã€‚'); return; }
    }
    if (p.skip > 0) { p.skip--; showModal('æš‚åœ', 'åŸåœ°ä¼‘æ¯ã€‚'); return; }
    
    SFX.play('dice'); document.getElementById('roll-btn').disabled = true;
    let count = 0; const timer = setInterval(() => {
        document.getElementById('dice-box').innerText = Math.floor(Math.random()*6)+1;
        if(++count > 10) {
            clearInterval(timer); let val = parseInt(document.getElementById('dice-box').innerText);
            let steps = p.speedBuff ? val * 2 : val; p.speedBuff = false;
            calculateDestinations(p, steps);
            syncGameState();
        }
    }, 50);
}

function calculateDestinations(p, steps) {
    game.validDestinations = []; game.pathMap = {};
    let queue = [{ curr: p.sid, prev: null, stepsLeft: steps, path: [] }];
    let visited = new Set();
    while(queue.length > 0) {
        let item = queue.shift();
        if (item.stepsLeft === 0) {
            if (!game.validDestinations.includes(item.curr)) { game.validDestinations.push(item.curr); game.pathMap[item.curr] = item.path; }
            continue;
        }
        let key = `${item.curr}_${item.stepsLeft}`; if (visited.has(key)) continue; visited.add(key);
        let neighbors = ADJACENCY[item.curr] || [];
        let validNext = neighbors.length === 1 ? neighbors : neighbors.filter(n => n !== item.prev);
        validNext.forEach(next => { queue.push({ curr: next, prev: item.curr, stepsLeft: item.stepsLeft - 1, path: [...item.path, next] }); });
    }
    const isAuto = Math.random() < 0.5;
    if (isAuto) {
        const target = game.validDestinations[Math.floor(Math.random()*game.validDestinations.length)];
        document.getElementById('ui-tip').innerText = `ğŸ¤– è‡ªåŠ¨ç§»åŠ¨ä¸­...`;
        setTimeout(() => movePlayer(target), 800);
    } else {
        highlightDestinations(true); document.getElementById('ui-tip').innerText = `ğŸ–±ï¸ è¯·æ‰‹åŠ¨é€‰æ‹©ç›®çš„åœ°`;
        syncGameState();
    }
}

function highlightDestinations(active) {
    document.querySelectorAll('.station-group').forEach(el => { el.classList.remove('target-highlight'); el.onclick = null; });
    if (active) {
        game.validDestinations.forEach(sid => {
            const el = document.getElementById(`st-${sid}`);
            if (el) { el.classList.add('target-highlight'); el.onclick = () => movePlayer(sid); }
        });
    }
}

async function movePlayer(targetSid) {
    highlightDestinations(false); const p = game.players[game.turn]; const path = game.pathMap[targetSid] || [targetSid];
    if(conn && conn.open) conn.send({ type: 'PLAYER_MOVE', targetSid: targetSid });
    for (let nextSid of path) { p.sid = nextSid; renderPlayers(); SFX.play('tick'); centerCamera(nextSid); updateUI(); await new Promise(r => setTimeout(r, 300)); }
    if (game.mode === 'work' && p.sid === game.target) { showModal('èƒœåˆ©', 'åˆ°è¾¾ç æ±Ÿæ–°åŸï¼'); setTimeout(() => endGame(p), 2000); }
    else { setTimeout(() => handleEvent(p, STATIONS[p.sid]), 300); }
}

function forceMove(p, steps) {
    let curr = p.sid; for(let i=0; i<Math.abs(steps); i++) { let n = ADJACENCY[curr]; if(n && n.length > 0) curr = n[0]; }
    p.sid = curr; renderPlayers(); centerCamera(curr); return STATIONS[curr].n;
}

function handleEvent(p, st) {
    SFX.play('event'); let msg = st.desc || st.n + "ï¼šå¹³å®‰æ— äº‹ã€‚";
    let title = st.n; let refreshUI = false;
    const isLine1 = LINE_DEFS[1].includes(p.sid);

    if (p.role.id === 'worker' && p.sid === 'zhujiang') { p.money += 500; msg += "<br>å¥–é‡‘ Â¥500"; refreshUI = true; }
    if (p.role.id === 'landlord' && (p.sid === 'kecun' || p.sid === 'datang')) { p.money += 400; msg += "<br>æ”¶ç§Ÿ Â¥400"; refreshUI = true; }

    if (!st.ev) { showModal(title, msg); updateUI(); return; }

    if (st.ev.startsWith('stop_')) {
        if (p.role.id !== 'student') { p.skip += parseInt(st.ev.split('_')[1]); }
        else { msg += "<br><b>[ç‰¹ç§å…µå…ç–«æš‚åœ]</b>"; }
        refreshUI = true;
    }
    else if (st.ev.startsWith('move_f_')) { let name = forceMove(p, parseInt(st.ev.split('_')[2])); msg += `<br>å‰è¿›è‡³ï¼š${name}`; refreshUI = true; }
    else if (st.ev.startsWith('move_b_')) { let name = forceMove(p, -parseInt(st.ev.split('_')[2])); msg += `<br>é€€å›è‡³ï¼š${name}`; refreshUI = true; }
    else if (st.ev === 'event_kecun') {
        let d = Math.floor(Math.random()*6)+1;
        if(d<=2) { p.money += 500; msg += `<br>æ·å‡º${d}ï¼šå¥–åŠ±500`; }
        else if(d<=4) { if(p.role.id!=='student') p.skip+=1; msg += `<br>æ·å‡º${d}ï¼šæ‹¥æŒ¤æš‚åœ`; }
        else { p.money -= 500; msg += `<br>æ·å‡º${d}ï¼šç½šæ¬¾500`; }
        refreshUI = true;
    }
    else if (st.ev === 'jump_wenhua') { p.sid = 'wenhuagongyuan'; renderPlayers(); centerCamera(p.sid); refreshUI = true; }
    else if (st.ev === 'card_get' || st.ev === 'gov') {
        const card = CHANCE_CARDS[Math.floor(Math.random()*CHANCE_CARDS.length)];
        title = "æœºä¼šå¡"; msg = card.content;
        if(card.money !== 0) { 
            let val = (p.role.id === 'local' && isLine1 && card.money > 0) ? card.money * 2 : card.money;
            p.money += val; msg += ` (Â¥${val})`;
        }
        if(card.move !== 0) forceMove(p, card.move);
        if(card.stop !== 0 && p.role.id !== 'student') p.skip += card.stop;
        refreshUI = true;
    }
    else if (st.ev.startsWith('money_get_')) {
        let v = parseInt(st.ev.split('_')[2]); if(p.role.id === 'local' && isLine1) v *= 2;
        p.money += v; refreshUI = true;
    }
    else if (st.ev.startsWith('money_lose_')) { p.money -= parseInt(st.ev.split('_')[2]); refreshUI = true; }
    else if (st.ev === 'rent') {
        if(p.role.id === 'landlord') p.money += 500;
        else p.money -= 300; refreshUI = true;
    }
    else if (st.ev === 'goto_jail' && p.role.id !== 'student') { p.sid = 'fangcun'; p.isJailed = true; renderPlayers(); centerCamera(p.sid); refreshUI = true; }
    else if (st.ev === 'speed_x2') { p.speedBuff = true; refreshUI = true; }

    if (refreshUI) updateUI();
    if (p.money < 0) { p.isBankrupt = true; updateUI(); msg += "<br>ç ´äº§ï¼"; }
    showModal(title, msg);
}

function nextTurn() {
    do { game.turn = (game.turn + 1) % game.totalPlayers; } while (game.players[game.turn].isBankrupt);
    updateUI(); document.getElementById('roll-btn').disabled = false; document.getElementById('dice-box').innerText = '?';
    centerCamera(game.players[game.turn].sid);
    syncGameState();
}

function renderMap() {
    const lLines = document.getElementById('layer-lines'), lStations = document.getElementById('layer-stations');
    lLines.innerHTML = ''; lStations.innerHTML = '';
    for (let lid in LINE_DEFS) {
        let d = ""; let pts = 0;
        LINE_DEFS[lid].forEach(sid => { if(!STATIONS[sid]) return; d += (pts++ === 0 ? "M":"L") + `${STATIONS[sid].x},${STATIONS[sid].y} `; });
        const p = document.createElementNS("http://www.w3.org/2000/svg", "path");
        p.setAttribute("d", d); p.setAttribute("class", "metro-line"); p.setAttribute("stroke", COLORS[lid]); lLines.appendChild(p);
    }
    for (let sid in STATIONS) {
        const s = STATIONS[sid], g = document.createElementNS("http://www.w3.org/2000/svg", "g");
        g.id = `st-${sid}`; g.className.baseVal = 'station-group';
        const c = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        c.setAttribute("cx", s.x); c.setAttribute("cy", s.y); c.className.baseVal = `station-circle ${s.t?'transfer':''}`;
        const t = document.createElementNS("http://www.w3.org/2000/svg", "text");
        t.setAttribute("x", s.x); t.setAttribute("y", s.y + 15); t.setAttribute("text-anchor", "middle"); t.className.baseVal = 'station-label'; t.textContent = s.n;
        g.appendChild(c); g.appendChild(t); lStations.appendChild(g);
    }
}

function renderPlayers() {
    const layer = document.getElementById('layer-players'); layer.innerHTML = '';
    game.players.forEach((p, i) => {
        if(!p.sid || p.isBankrupt) return;
        const c = document.createElementNS("http://www.w3.org/2000/svg", "circle"); const s = STATIONS[p.sid];
        c.setAttribute("cx", s.x + (i*6-9)); c.setAttribute("cy", s.y); c.setAttribute("fill", p.color); c.className.baseVal = 'player-token';
        layer.appendChild(c);
    });
}

function updateUI() {
    game.players.forEach((p, idx) => {
        const card = document.getElementById(`p-card-${idx}`);
        if(card) {
            document.getElementById(`p-money-${idx}`).innerText = `Â¥ ${p.money}`;
            document.getElementById(`p-station-${idx}`).innerText = STATIONS[p.sid]?.n || '';
            document.getElementById(`p-status-${idx}`).innerText = p.isBankrupt ? 'â˜ ï¸ ç ´äº§' : (p.skip > 0 ? 'â¸ æš‚åœ' : '');
            idx === game.turn ? card.classList.add('active-turn') : card.classList.remove('active-turn');
        }
    });
}

function showScreen(id) { document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden')); document.getElementById(id).classList.remove('hidden'); }
function showModal(t, c) { document.getElementById('modal-title').innerHTML = t; document.getElementById('modal-content').innerHTML = c; document.getElementById('modal-overlay').style.display = 'block'; document.getElementById('modal').style.display = 'block'; }
function closeModal() { document.getElementById('modal-overlay').style.display = 'none'; document.getElementById('modal').style.display = 'none'; nextTurn(); }
function endGame(winner) { showScreen('screen-end'); document.getElementById('winner-name').innerText = winner.name; document.getElementById('winner-role').innerText = winner.role.n; }

/* ============================================================
   PeerJS è”æœºæ ¸å¿ƒé€»è¾‘ (ä¿®å¤ ID è·å–å¡é¡¿é—®é¢˜)
   ============================================================ */
let peer = null;
let conn = null;

function initNetwork() {
    // éšæœºIDï¼Œé˜²æ­¢å†²çª
    const randomId = 'gz-' + Math.floor(Math.random() * 9000 + 1000);
    // ç¡®ä¿ Peer åº“å·²åŠ è½½
    if (typeof Peer === 'undefined') {
        alert("PeerJS åº“æœªåŠ è½½ï¼Œè¯·æ£€æŸ¥ç½‘ç»œï¼");
        return;
    }
    
    peer = new Peer(randomId);

    peer.on('open', (id) => {
        document.getElementById('my-peer-id').innerText = id;
    });

    peer.on('connection', (c) => {
        handleConnection(c);
        showConnectedUI('å¯¹æ–¹å·²è¿å…¥');
        syncGameState(); // è¿å…¥ç¬é—´ç«‹å³åŒæ­¥
    });

    peer.on('error', (err) => {
        console.error(err);
        document.getElementById('my-peer-id').innerText = "è·å–å¤±è´¥";
    });
}

function connectToFriend() {
    const friendId = document.getElementById('remote-id-input').value.trim();
    if (!friendId) return alert('è¯·è¾“å…¥ID');
    conn = peer.connect(friendId);
    handleConnection(conn);
    showConnectedUI('å·²è¿æ¥å¯¹æ–¹');
}

function handleConnection(connection) {
    conn = connection;
    conn.on('data', (data) => {
        if (data.type === 'SYNC_STATE') {
            applyGameState(data.payload);
        } else if (data.type === 'SHOW_MODAL') {
            showModal(data.title, data.content, true);
        } else if (data.type === 'SYNC_WHEEL') {
            const w = document.getElementById('wheel');
            w.style.transform = `rotate(-${data.rotation}deg)`;
            document.getElementById('spin-btn').disabled = true;
            document.getElementById('wheel-result').innerText = `å‡ºå‘: ${data.resultName}`;
        }
    });
    // å…³é”®ï¼šè¿æ¥ä¸€æ—¦å»ºç«‹ï¼Œç«‹åˆ»å‘é€åŒæ­¥
    conn.on('open', () => { syncGameState(); });
}

function syncGameState() {
    if (conn && conn.open) {
        const safeGame = JSON.parse(JSON.stringify(game));
        conn.send({ type: 'SYNC_STATE', payload: safeGame });
    }
}

function applyGameState(remoteGame) {
    game.turn = remoteGame.turn;
    game.players = remoteGame.players;
    game.totalPlayers = remoteGame.totalPlayers;
    game.mode = remoteGame.mode;
    game.target = remoteGame.target;
    game.validDestinations = remoteGame.validDestinations || [];
    game.pathMap = remoteGame.pathMap || {};

    // æ™ºèƒ½è·³è½¬é€»è¾‘
    if (game.totalPlayers > 0 && document.getElementById('screen-mode').classList.contains('hidden') && game.players.length === 0) {
        showScreen('screen-mode');
    }
    if (game.players.length > 0 && game.players.length < game.totalPlayers) {
        if(document.getElementById('screen-roles').classList.contains('hidden')) showScreen('screen-roles');
        renderRoleSelection(game.players.length);
    }
    if (game.players.length === game.totalPlayers && game.totalPlayers > 0) {
        const p0 = game.players[0];
        if (!p0.sid) {
             const currentPid = game.players.findIndex(p => p.sid === null);
             if(currentPid !== -1 && document.getElementById('screen-wheel').classList.contains('hidden')) initWheel(currentPid);
        } else {
             if(document.getElementById('screen-game').classList.contains('hidden')) startGame();
        }
    }

    if(!document.getElementById('screen-game').classList.contains('hidden')) {
        renderMap();
        initPlayerCards();
        renderPlayers();
        if (game.players[game.turn] && game.players[game.turn].sid) centerCamera(game.players[game.turn].sid);
        if (game.validDestinations.length > 0) highlightDestinations(true);
        else highlightDestinations(false);
    }
    updateUI();
}

// åŠ«æŒå¼¹çª—
const originalShowModal = showModal;
showModal = function(t, c, isFromNet = false) {
    document.getElementById('modal-title').innerHTML = t;
    document.getElementById('modal-content').innerHTML = c;
    document.getElementById('modal-overlay').style.display = 'block';
    document.getElementById('modal').style.display = 'block';
    if (!isFromNet && conn && conn.open) conn.send({ type: 'SHOW_MODAL', title: t, content: c });
};

function copyMyId() {
    const id = document.getElementById('my-peer-id').innerText;
    navigator.clipboard.writeText(id).then(() => alert('å·²å¤åˆ¶: ' + id));
}

function toggleNetPanel() {
    const p = document.getElementById('net-panel');
    const c = document.getElementById('net-content');
    if (p.classList.contains('net-minimized')) { p.classList.remove('net-minimized'); c.style.display = 'block'; } 
    else { p.classList.add('net-minimized'); c.style.display = 'none'; }
}

function showConnectedUI(msg) {
    document.getElementById('net-init-box').style.display = 'none';
    document.getElementById('net-status-box').style.display = 'block';
    document.getElementById('conn-role').innerText = msg;
}
</script>
</body>
</html>